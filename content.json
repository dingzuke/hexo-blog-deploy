{"meta":{"title":"Ding Zuke's blog","subtitle":"ä¸ªäººåšå®¢","description":"ä¸€ä¸ªwebå¼€å‘è€…çš„çˆ¬å‘è·¯","author":"ä¸ç¥–ç§‘","url":"https://www.ding51.cn"},"pages":[{"title":"","date":"2020-05-22T09:00:23.407Z","updated":"2020-05-22T09:00:23.407Z","comments":true,"path":"google5d9a7416b18345fe.html","permalink":"https://www.ding51.cn/google5d9a7416b18345fe.html","excerpt":"","text":"google-site-verification: google5d9a7416b18345fe.html"},{"title":"about","date":"2018-11-13T02:55:06.000Z","updated":"2020-05-22T09:00:23.406Z","comments":true,"path":"about/index.html","permalink":"https://www.ding51.cn/about/index.html","excerpt":"","text":""},{"title":"categories","date":"2018-11-14T06:06:53.000Z","updated":"2020-05-22T09:00:23.406Z","comments":true,"path":"categories/index.html","permalink":"https://www.ding51.cn/categories/index.html","excerpt":"","text":""},{"title":"tags","date":"2018-11-14T06:07:40.000Z","updated":"2020-05-22T09:00:23.424Z","comments":true,"path":"tags/index.html","permalink":"https://www.ding51.cn/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"TypeScript é«˜çº§ç±»å‹","slug":"TypeScript-é«˜çº§ç±»å‹å…¥é—¨","date":"2021-08-26T08:48:00.000Z","updated":"2021-08-30T02:38:23.680Z","comments":true,"path":"typescript-gao-ji-lei-xing-ru-men.html","link":"","permalink":"https://www.ding51.cn/typescript-gao-ji-lei-xing-ru-men.html","excerpt":"","text":"æœ¬æ–‡å°†ä»‹ç» äº¤å‰ç±»å‹ è”åˆç±»å‹ æ³›å‹&lt;T&gt; Partial Required Readonly Pick Omit æ˜ å°„ç±»å‹ 1ã€äº¤å‰ç±»å‹äº¤å‰ç±»å‹æ˜¯å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªç±»å‹ã€‚æŠŠå¤šç§ç±»å‹å åŠ åˆ°ä¸€èµ·æˆä¸ºä¸€ç§ç±»å‹ã€‚PersonA &amp; PersonB &amp; PersonCã€‚ type LeftType = { id: number; left: string; }; type RightType = { id: number; right: string; }; type IntersectionType = LeftType &amp; RightType; function showType(args: IntersectionType) { console.log(args); } showType({ id: 1, left: 'test', right: 'test' }); // Output: {id: 1, left: \"test\", right: \"test\"} 2ã€è”åˆç±»å‹è”åˆç±»å‹è¡¨ç¤ºä¸€ä¸ªå€¼å¯ä»¥æ˜¯å‡ ç§ç±»å‹ä¹‹ä¸€ã€‚ number | string | boolean type UnionType = string | number; function showType(arg: UnionType) { console.log(arg); } showType('test'); // Output: test showType(7); // Output: 7 æ³¨ï¼šå¦‚æœä¸€ä¸ªå€¼æ˜¯è”åˆç±»å‹ï¼Œæˆ‘ä»¬åªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„æ‰€æœ‰ç±»å‹é‡Œå…±æœ‰çš„æˆå‘˜ interface Bird { fly(); layEggs(); } interface Fish { swim(); layEggs(); } function getSmallPet(): Fish | Bird { // ... } let pet = getSmallPet(); pet.layEggs(); // okay pet.swim(); // errors æˆ‘ä»¬ä¸èƒ½ç¡®å®šä¸€ä¸ª Bird | Fishç±»å‹çš„å˜é‡æ˜¯å¦æœ‰flyæ–¹æ³•ã€‚ å¦‚æœå˜é‡åœ¨è¿è¡Œæ—¶æ˜¯ Fishç±»å‹ï¼Œé‚£ä¹ˆè°ƒç”¨pet.fly()å°±å‡ºé”™äº† 3ã€æ³›å‹&lt;T&gt;å¯ä»¥ä½¿ç”¨æ³›å‹æ¥åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ï¼Œä¸€ä¸ªç»„ä»¶å¯ä»¥æ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ã€‚ç»„ä»¶ä¸ä»…èƒ½å¤Ÿæ”¯æŒå½“å‰çš„æ•°æ®ç±»å‹ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ”¯æŒæœªæ¥çš„æ•°æ®ç±»å‹ã€‚ å¦‚ä½•åˆ›å»ºæ³›å‹ç±»å‹:éœ€è¦ä½¿ç”¨&lt;&gt; å¹¶å°† T(åç§°å¯è‡ªå®šä¹‰)ä½œä¸ºå‚æ•°ä¼ é€’ã€‚ æ³›å‹æ¥å£ interface GenericType&lt;T> { id: number; name: T; } function showType(args: GenericType&lt;string>) { console.log(args); } showType({ id: 1, name: 'test' }); // Output: {id: 1, name: \"test\"} function showTypeTwo(args: GenericType&lt;number>) { console.log(args); } showTypeTwo({ id: 1, name: 4 }); // Output: {id: 1, name: 4} å¤šå‚æ•°çš„æ³›å‹ interface GenericType&lt;T, U> { id: T; name: U; } function showType(args: GenericType&lt;number, string>) { console.log(args); } showType({ id: 1, name: 'test' }); // Output: {id: 1, name: \"test\"} function showTypeTwo(args: GenericType&lt;string, string[]>) { console.log(args); } showTypeTwo({ id: '001', name: ['This', 'is', 'a', 'Test'] }); // Output: {id: \"001\", name: Array[\"This\", \"is\", \"a\", \"Test\"]} 4ã€PartialPartial å…è®¸ä½ å°†Tç±»å‹çš„æ‰€æœ‰å±æ€§è®¾ä¸ºå¯é€‰,å®ƒå°†åœ¨æ¯ä¸€ä¸ªå­—æ®µåé¢æ·»åŠ ä¸€ä¸ª?ã€‚ interface PartialType { id: number; firstName: string; lastName: string; } function showType(args: Partial&lt;PartialType>) { console.log(args); } /* Partial&lt;PartialType> ç­‰æ•ˆäº interface PartialType { id?: number firstName?: string lastName?: string } */ showType({ id: 1 }); // Output: {id: 1} 5ã€Requiredå°†æŸä¸ªç±»å‹é‡Œçš„å±æ€§å…¨éƒ¨å˜ä¸ºå¿…é€‰é¡¹ Required interface RequiredType { id: number; firstName?: string; lastName?: string; } function showType(args: Required&lt;RequiredType>) { console.log(args); } showType({ id: 1 }); // Error: Type '{ id: number: }' is missing the following properties from type 'Required&lt;RequiredType>': firstName, lastName 6ã€Readonlyä¼šè½¬æ¢ç±»å‹çš„æ‰€æœ‰å±æ€§ï¼Œä»¥ä½¿å®ƒä»¬æ— æ³•è¢«ä¿®æ”¹ Readonly interface ReadonlyType { id: number; name: string; } function showType(args: Readonly&lt;ReadonlyType>) { args.id = 4; console.log(args); } showType({ id: 1, name: 'Doe' }); // Error: Cannot assign to 'id' because it is a read-only property. 7ã€Pickæ­¤æ–¹æ³•å…è®¸ä½ ä»ä¸€ä¸ªå·²å­˜åœ¨çš„ç±»å‹ Tä¸­é€‰æ‹©ä¸€äº›å±æ€§ä½œä¸ºK, ä»è€Œåˆ›å»ºä¸€ä¸ªæ–°ç±»å‹ã€‚ Pick&lt;T, K&gt; interface PickType { id: number; firstName: string; lastName: string; } function showType(args: Pick&lt;PickType, 'firstName' | 'lastName'>) { console.log(args); } showType({ firstName: 'John', lastName: 'Doe' }); // Output: {firstName: \"John\"} showType({ id: 3 }); // Error: Object literal may only specify known properties, and 'id' does not exist in type 'Pick&lt;PickType, \"firstName\" | \"lastName\">' 8ã€OmitOmitçš„ä½œç”¨ä¸Pickç±»å‹æ­£å¥½ç›¸åã€‚ä¸æ˜¯é€‰æ‹©å…ƒç´ ï¼Œè€Œæ˜¯ä»ç±»å‹Tä¸­åˆ é™¤Kä¸ªå±æ€§ã€‚ Omit&lt;T, K&gt; interface PickType { id: number; firstName: string; lastName: string; } function showType(args: Omit&lt;PickType, 'firstName' | 'lastName'>) { console.log(args); } showType({ id: 7 }); // Output: {id: 7} showType({ firstName: 'John' }); // Error: Object literal may only specify known properties, and 'firstName' does not exist in type 'Pick&lt;PickType, \"id\">' 9ã€æ˜ å°„ç±»å‹æ˜ å°„ç±»å‹å…è®¸ä½ ä»ä¸€ä¸ªæ—§çš„ç±»å‹ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„ç±»å‹ã€‚ è¯·æ³¨æ„ï¼Œå‰é¢ä»‹ç»çš„æŸäº›é«˜çº§ç±»å‹ä¹Ÿæ˜¯æ˜ å°„ç±»å‹ã€‚å¦‚: /* Readonlyï¼Œ Partialå’Œ Pickæ˜¯åŒæ€çš„ï¼Œä½† Recordä¸æ˜¯ã€‚ å› ä¸º Recordå¹¶ä¸éœ€è¦è¾“å…¥ç±»å‹æ¥æ‹·è´å±æ€§ï¼Œæ‰€ä»¥å®ƒä¸å±äºåŒæ€ï¼š */ type Readonly&lt;T> = { readonly [P in keyof T]: T[P]; }; type Partial&lt;T> = { [P in keyof T]?: T[P]; }; type Pick&lt;T, K extends keyof T> = { [P in K]: T[P]; }; type StringMap&lt;T> = { [P in keyof T]: string; }; function showType(arg: StringMap&lt;{ id: number; name: string }>) { console.log(arg); } showType({ id: 1, name: 'Test' }); // Error: Type 'number' is not assignable to type 'string'. showType({ id: 'testId', name: 'This is a Test' }); // Output: {id: \"testId\", name: \"This is a Test\"}","categories":[{"name":"TypeScript","slug":"TypeScript","permalink":"https://www.ding51.cn/categories/TypeScript/"}],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"https://www.ding51.cn/tags/TypeScript/"}]},{"title":"Object.assign()æ˜¯æ·±æ‹·è´è¿˜æ˜¯æ½œæ‹·è´","slug":"Object-assign-æ˜¯æ·±æ‹·è´è¿˜æ˜¯æ½œæ‹·è´","date":"2021-02-22T05:46:00.000Z","updated":"2021-08-18T07:52:18.587Z","comments":true,"path":"object-assign-shi-shen-kao-bei-huan-shi-qian-kao-bei.html","link":"","permalink":"https://www.ding51.cn/object-assign-shi-shen-kao-bei-huan-shi-qian-kao-bei.html","excerpt":"","text":"å®šä¹‰Object.assign() æ–¹æ³•ç”¨äºå°†æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å€¼ä»ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡åˆ†é…åˆ°ç›®æ ‡å¯¹è±¡ã€‚å®ƒå°†è¿”å›ç›®æ ‡å¯¹è±¡ã€‚ğŸŒ° var obj = {}; var o1 = { a: 1, b: 1 }; var o2 = { b: 2 }; var obj = Object.assign(obj, o1, o2); console.log(obj); // { a: 1, b: 2 } æ³¨æ„ï¼šå¦‚æœç›®æ ‡å¯¹è±¡ä¸æºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œæˆ–å¤šä¸ªæºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œåˆ™åé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§ æ·±æ‹·è´è¿˜æ˜¯æ½œæ‹·è´? å¯¹è±¡çš„æµ…æ‹·è´ï¼šæµ…æ‹·è´æ˜¯å¯¹è±¡å…±ç”¨çš„ä¸€ä¸ªå†…å­˜åœ°å€ï¼Œå¯¹è±¡çš„å˜åŒ–ç›¸äº’å°è±¡ã€‚ å¯¹è±¡çš„æ·±æ‹·è´ï¼šç®€å•ç†è§£æ·±æ‹·è´æ˜¯å°†å¯¹è±¡æ”¾åˆ°æ–°çš„å†…å­˜ä¸­ï¼Œä¸¤ä¸ªå¯¹è±¡çš„æ”¹å˜ä¸ä¼šç›¸äº’å½±å“ã€‚ ä¸¾ä¾‹ä¸€ var obj1 = {name: 'd'} var obj2 = {age: 23} Object.assign(obj1,obj2) obj2.age = 29 console.log(obj1) // {name: \"d\", age: 23} ä¸Šé¢å¯çœ‹å‡ºä¿®æ”¹äº†obj2 çš„å€¼å¹¶æ²¡æœ‰ä¿®æ”¹åˆ°ç›®æ ‡å¯¹è±¡ï¼Œçœ‹èµ·æ¥æ˜¯æ·±æ‹·è´ ä¸¾ä¾‹äºŒ var obj1 = {name: 'd'} var obj2 = {age: {year: 2019}} Object.assign(obj1,obj2) obj2.age.year = 2020 console.log(obj1) // {name: \"d\", age: {year: 2020}} ä¿®æ”¹äº†obj2 çš„å€¼,åŒæ—¶ä¹Ÿä¿®æ”¹åˆ°ç›®æ ‡å¯¹è±¡ï¼Œçœ‹èµ·æ¥æ˜¯æ½œæ‹·è´ æ€»ç»“ï¼šå¯¹äºObject.assign()è€Œè¨€ï¼Œå¦‚æœå¯¹è±¡çš„å±æ€§å€¼ä¸ºç®€å•ç±»å‹ï¼ˆstringï¼Œnumberï¼‰ï¼Œé€šè¿‡Object.assign({},srcobj);å¾—åˆ°çš„æ–°å¯¹è±¡ä¸ºæ·±æ‹·è´ï¼›å¦‚æœå±æ€§å€¼ä¸ºå¯¹è±¡æˆ–å…¶ä»–å¼•ç”¨ç±»å‹ï¼Œé‚£å¯¹äºè¿™ä¸ªå¯¹è±¡è€Œè¨€å…¶å®æ˜¯æµ…æ‹·è´çš„ï¼Œè¿™æ˜¯Object.assign()ç‰¹åˆ«éœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚ æ‰‹å†™æ·±æ‹·è´ï¼š function clone(target) { if (typeof target === 'object') { let cloneTarget = Array.isArray(target) ? [] : {}; for (const key in target) { cloneTarget[key] = clone(target[key]); } return cloneTarget; } else { return target; } };","categories":[{"name":"æ·±æ‹·è´","slug":"æ·±æ‹·è´","permalink":"https://www.ding51.cn/categories/æ·±æ‹·è´/"}],"tags":[{"name":"æ·±æ‹·è´","slug":"æ·±æ‹·è´","permalink":"https://www.ding51.cn/tags/æ·±æ‹·è´/"},{"name":"æµ…æ‹·è´","slug":"æµ…æ‹·è´","permalink":"https://www.ding51.cn/tags/æµ…æ‹·è´/"}]},{"title":"BFCå’ŒIFC","slug":"BFC","date":"2021-02-18T05:25:00.000Z","updated":"2021-02-18T06:21:09.359Z","comments":true,"path":"bfc.html","link":"","permalink":"https://www.ding51.cn/bfc.html","excerpt":"","text":"BFCæ¦‚å¿µBFC å³ Block Formatting Contexts (å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡)ï¼Œå…·æœ‰ BFC ç‰¹æ€§çš„å…ƒç´ å¯ä»¥çœ‹ä½œæ˜¯éš”ç¦»äº†çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å…ƒç´ ä¸ä¼šåœ¨å¸ƒå±€ä¸Šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ã€‚å¯ä»¥æŠŠ BFC ç†è§£ä¸ºä¸€ä¸ªå°é—­çš„å¤§ç®±å­ï¼Œç®±å­å†…éƒ¨çš„å…ƒç´ æ— è®ºå¦‚ä½•ç¿»æ±Ÿå€’æµ·ï¼Œéƒ½ä¸ä¼šå½±å“åˆ°å¤–éƒ¨ã€‚ è§¦å‘bfcåªè¦å…ƒç´ æ»¡è¶³ä¸‹é¢ä»»ä¸€æ¡ä»¶å³å¯è§¦å‘ BFC ç‰¹æ€§ï¼š body æ ¹å…ƒç´  æµ®åŠ¨å…ƒç´ ï¼šfloat é™¤ none ä»¥å¤–çš„å€¼ ç»å¯¹å®šä½å…ƒç´ ï¼šposition (absoluteã€fixed) display ä¸º inline-blockã€table-cellsã€flex overflow é™¤äº† visible ä»¥å¤–çš„å€¼ (hiddenã€autoã€scroll) ç‰¹æ€§ç‰¹æ€§1ã€ åŒä¸€ä¸ª BFC ä¸Šä¸‹marginä¼šé‡å ,å–æœ€å¤§çš„marginå€¼ã€‚ è§£å†³æ–¹æ³•: åˆ©ç”¨bfcç‰¹æ€§ï¼Œè®©å…¶å…ƒç´  æ·»åŠ ä¸€å±‚div, è®¾ç½®ä¸ºoverflow: hidden; ä½¿å®ƒå½¢æˆä¸€å—ç‹¬ç«‹çš„bfc. ç‰¹æ€§2ã€ BFCå¯ä»¥åŒ…å«æµ®åŠ¨å…ƒç´ ã€‚ æµ®åŠ¨å…ƒç´ ä¼šè„±ç¦»æ–‡æ¡£æµï¼Œçˆ¶å…ƒç´ æ²¡æœ‰é«˜åº¦ï¼Œé€ æˆçˆ¶é«˜åº¦å¡Œé™·ã€‚ çˆ¶å…ƒç´ è®¾ç½®æˆBFC å¯ä»¥è§£å†³ ç‰¹æ€§3ã€BFCçš„åŒºåŸŸä¸ä¼šä¸æµ®åŠ¨å®¹å™¨å‘ç”Ÿé‡å å¦‚å›¾ç»™å³å…ƒç´ æ·»åŠ overflow: hidden;å½¢æˆBFCã€‚ è°ˆè°ˆIFCIFCï¼ˆinline Formatting Contextï¼‰å«åšâ€œè¡Œçº§æ ¼å¼åŒ–ä¸Šä¸‹â€å±€è§„åˆ™å¦‚ä¸‹ï¼š1.å†…éƒ¨çš„ç›’å­ä¼šåœ¨æ°´å¹³æ–¹å‘ï¼Œä¸€ä¸ªä¸ªåœ°æ”¾ç½®ï¼›2.IFCçš„é«˜åº¦ï¼Œç”±é‡Œé¢æœ€é«˜ç›’å­çš„é«˜åº¦å†³å®šï¼›3.å½“ä¸€è¡Œä¸å¤Ÿæ”¾ç½®çš„æ—¶å€™ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°ä¸‹ä¸€è¡Œ","categories":[],"tags":[{"name":"BFC","slug":"BFC","permalink":"https://www.ding51.cn/tags/BFC/"},{"name":"IFC","slug":"IFC","permalink":"https://www.ding51.cn/tags/IFC/"}]},{"title":"jsæµè§ˆå™¨å…¨å±æ¨¡å¼","slug":"jsæµè§ˆå™¨å…¨å±æ¨¡å¼","date":"2020-12-16T09:37:00.000Z","updated":"2020-12-16T09:40:48.486Z","comments":true,"path":"js-liu-lan-qi-quan-ping-mo-shi.html","link":"","permalink":"https://www.ding51.cn/js-liu-lan-qi-quan-ping-mo-shi.html","excerpt":"","text":"1ã€è¿›å…¥å…¨å±let docElm = document.documentElement; //W3C if(docElm.requestFullscreen) { docElm.requestFullscreen(); } //FireFox else if(docElm.mozRequestFullScreen) { docElm.mozRequestFullScreen(); } //Chromeç­‰ else if(docElm.webkitRequestFullScreen) { docElm.webkitRequestFullScreen(); } //IE11 else if(elem.msRequestFullscreen) { elem.msRequestFullscreen(); } 2ã€é€€å‡ºå…¨å±//W3C if (document.exitFullscreen) { document.exitFullscreen(); } //FireFox else if (document.mozCancelFullScreen) { document.mozCancelFullScreen(); } //Chromeç­‰ else if (document.webkitCancelFullScreen) { document.webkitCancelFullScreen(); } //IE11 else if (document.msExitFullscreen) { document.msExitFullscreen(); }","categories":[{"name":"js","slug":"js","permalink":"https://www.ding51.cn/categories/js/"}],"tags":[{"name":"å…¨å±","slug":"å…¨å±","permalink":"https://www.ding51.cn/tags/å…¨å±/"}]},{"title":"è¿­ä»£å™¨(Iterator)å’Œç”Ÿæˆå™¨(Generator)","slug":"è¿­ä»£å™¨-Iterator-å’Œç”Ÿæˆå™¨-Generator","date":"2020-12-07T03:32:00.000Z","updated":"2020-12-07T05:48:42.590Z","comments":true,"path":"die-dai-qi-iterator-he-sheng-cheng-qi-generator.html","link":"","permalink":"https://www.ding51.cn/die-dai-qi-iterator-he-sheng-cheng-qi-generator.html","excerpt":"","text":"ä¸€ã€è¿­ä»£å™¨æ¦‚å¿µï¼š è¿­ä»£å™¨æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä½¿å„ç§æ•°æ®ç»“æ„å¯è¢«ä¾¿æ·çš„è®¿é—®ï¼Œå®ƒæ˜¯é€šè¿‡ä¸€ä¸ªé”®ä¸ºSymbol.iterator çš„æ–¹æ³•æ¥å®ç°ã€‚ è¿­ä»£å™¨æ˜¯ç”¨äºéå†æ•°æ®ç»“æ„å…ƒç´ çš„æŒ‡é’ˆï¼ˆå¦‚æ•°æ®åº“ä¸­çš„æ¸¸æ ‡ï¼‰ã€‚ å®ç°è¿‡ç¨‹ï¼š é€šè¿‡ Symbol.iterator åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘å½“å‰æ•°æ®ç»“æ„çš„èµ·å§‹ä½ç½® éšåé€šè¿‡ next æ–¹æ³•è¿›è¡Œå‘ä¸‹è¿­ä»£æŒ‡å‘ä¸‹ä¸€ä¸ªä½ç½®ï¼Œ next æ–¹æ³•ä¼šè¿”å›å½“å‰ä½ç½®çš„å¯¹è±¡ï¼Œå¯¹è±¡åŒ…å«äº† value å’Œ done ä¸¤ä¸ªå±æ€§ï¼Œ value æ˜¯å½“å‰å±æ€§çš„å€¼ï¼Œ done ç”¨äºåˆ¤æ–­æ˜¯å¦éå†ç»“æŸ å½“ done ä¸º true æ—¶åˆ™éå†ç»“æŸ let items = [\"zero\", \"one\", \"two\"]; let it = items[Symbol.iterator](); it.next(); // {value: \"zero\", done: false} it.next(); // {value: \"one\", done: false} it.next(); // {value: \"two\", done: false} it.next(); // {value: undefined, done: true} å¯è¿­ä»£çš„æ•°æ®ç»“æ„ï¼š Array String Map Set forâ€¦offorâ€¦ofæ˜¯ ES6 æ–°å¼•å…¥çš„å¾ªç¯ï¼Œç”¨äºæ›¿ä»£ for..in å’Œ forEach() ï¼Œå¹¶ä¸”æ”¯æŒæ–°çš„è¿­ä»£åè®®ã€‚å®ƒå¯ç”¨äºè¿­ä»£å¸¸è§„çš„æ•°æ®ç±»å‹ï¼Œå¦‚ Array ã€ String ã€ Map å’Œ Set ç­‰ç­‰ã€‚ äºŒã€ç”Ÿæˆå™¨æ¦‚å¿µç”Ÿæˆå™¨æ˜¯ä¸€ç§è¿”å›è¿­ä»£å™¨çš„å‡½æ•°ï¼Œé€šè¿‡functionå…³é”®å­—åçš„æ˜Ÿå·(*)æ¥è¡¨ç¤ºï¼Œå‡½æ•°ä¸­ä¼šç”¨åˆ°æ–°çš„å…³é”®å­—yieldã€‚æ˜Ÿå·å¯ä»¥ç´§æŒ¨ç€functionå…³é”®å­—ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸­é—´æ·»åŠ ä¸€ä¸ªç©ºæ ¼ã€‚åŒºåˆ«æ™®é€šå‡½æ•° ä¸€æ˜¯åœ¨ function åé¢ï¼Œå‡½æ•°åä¹‹å‰æœ‰ä¸ª * ï¼› å‡½æ•°å†…éƒ¨æœ‰ yield è¡¨è¾¾å¼ã€‚// ç”Ÿæˆå™¨ function *createIterator() { yield 1; yield 2; yield 3; } // ç”Ÿæˆå™¨èƒ½åƒæ­£è§„å‡½æ•°é‚£æ ·è¢«è°ƒç”¨ï¼Œä½†ä¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ let iterator = createIterator(); console.log(iterator.next().value); // 1 console.log(iterator.next().value); // 2 console.log(iterator.next().value); // 3","categories":[{"name":"ES6","slug":"ES6","permalink":"https://www.ding51.cn/categories/ES6/"}],"tags":[{"name":"è¿­ä»£å™¨Iterator","slug":"è¿­ä»£å™¨Iterator","permalink":"https://www.ding51.cn/tags/è¿­ä»£å™¨Iterator/"},{"name":"ç”Ÿæˆå™¨Generator","slug":"ç”Ÿæˆå™¨Generator","permalink":"https://www.ding51.cn/tags/ç”Ÿæˆå™¨Generator/"}]},{"title":"JavaScriptå¸¸ç”¨è®¾è®¡æ¨¡å¼","slug":"JavaScriptå¸¸ç”¨è®¾è®¡æ¨¡å¼","date":"2020-12-01T07:53:17.000Z","updated":"2020-12-03T09:40:37.478Z","comments":true,"path":"javascript-chang-yong-she-ji-mo-shi.html","link":"","permalink":"https://www.ding51.cn/javascript-chang-yong-she-ji-mo-shi.html","excerpt":"","text":"è®¾è®¡æ¨¡å¼ä¸»è¦åˆ†ä¸º3ç±»ï¼š1ã€åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼šä¸“æ³¨äºå¤„ç†å¯¹è±¡çš„åˆ›å»ºConstructoræ„é€ å™¨æ¨¡å¼ï¼ŒFactoryå·¥å‚æ¨¡å¼ï¼ŒSingletonå•ä¾‹æ¨¡å¼ï¼Œbuilderç”Ÿæˆå™¨æ¨¡å¼ 2ã€ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼šå¯¹è±¡é—´ç»„åˆï¼Œå»ºç«‹å¯¹è±¡ä¹‹é—´çš„å…³ç³»Decoratorè£…é¥°è€…æ¨¡å¼ï¼ŒFacadeå¤–è§‚æ¨¡å¼ï¼ŒFlyweightäº«å…ƒæ¨¡å¼ï¼ŒAdapteré€‚é…å™¨æ¨¡å¼ï¼ŒProxyä»£ç†æ¨¡å¼ 3ã€è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼šç®€åŒ–å’Œæ”¹å–„å¯¹è±¡é—´çš„é€šä¿¡Mediatorä¸­ä»‹è€…æ¨¡å¼ï¼ŒObserverè§‚å¯Ÿè€…æ¨¡å¼ ä¸€ã€ å•ä¾‹æ¨¡å¼å•ä¾‹æ¨¡å¼é™åˆ¶ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹åŒ–å¯¹è±¡ã€‚ // åˆ©ç”¨é—­åŒ…å®ç° var Leader = (()=>{ let _instance = null; // å¾…å®ä¾‹åŒ–çš„ç±» function _module(){ this.name = ''; this.getName = ()=>{ return 'The Name Is ' + this.name; } this.setName = (name) => { this.name = name; } } return { getInstance:()=>{ if(!_instance){ _instance = new _module(); } return _instance; } } })(); Leader.getInstance().setName('dzk') Leader.getInstance().getName() äºŒã€è§‚å¯Ÿè€…æ¨¡å¼ä¸€ä¸ªç›®æ ‡å¯¹è±¡ç»´æŒç€ä¸€ç³»åˆ—ä¾èµ–äºå®ƒçš„å¯¹è±¡ï¼Œå°†æœ‰å…³çŠ¶æ€çš„ä»»ä½•å˜æ›´è‡ªåŠ¨é€šçŸ¥è§‚å¯Ÿè€…ä»¬ã€‚åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œè§‚å¯Ÿè€…éœ€è¦ç›´æ¥è®¢é˜…ç›®æ ‡å¯¹è±¡ï¼Œè§‚å¯Ÿè€…ä¸ç›®æ ‡å¯¹è±¡ä¹‹é—´æœ‰ä¸€å®šçš„ä¾èµ–å…³ç³»ã€‚ // ç›®æ ‡å¯¹è±¡ class Subject { constructor() { // è§‚å¯Ÿè€…åˆ—è¡¨ this.observers = [] } addObserver(observer) { this.observers.push(observer) } removeObserver() { this.observers.pop() } notify() { this.observers.forEach(observer => { observer.update() }) } } // è§‚å¯Ÿè€…1 class Observer1 { update() { console.log('Observer1 change!') } } // è§‚å¯Ÿè€…2 class Observer2 { update() { console.log('Observer2 change!') } } // è®¢é˜… let curSubject = new Subject() let curObserver1 = new Observer1() let curObserver2 = new Observer2() curSubject.addObserver(curObserver1) curSubject.addObserver(curObserver2) // è§¦å‘ curSubject.notify() ä¸‰ã€å‘å¸ƒ/è®¢é˜…æ¨¡å¼å‘å¸ƒè®¢é˜…æ¨¡å¼å¯ä»¥è¯´æ˜¯è§‚å¯Ÿè¿™æ¨¡å¼çš„ä¸€ç§å˜ä½“ï¼Œä¸€ç§å®ç°ã€‚å®ƒä½¿ç”¨ä¸€ä¸ªä¸»é¢˜/äº‹ä»¶é€šé“ï¼Œä»‹äºå‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´ï¼Œé¿å…äº†å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚ class PubSub { constructor() { // ä¸»é¢˜/äº‹ä»¶é€šé“ this.topics = {} } publish(topic, args) { if (!this.topics[topic]) { return } let subscribers = this.topics[topic] subscribers.forEach(subscriber => { subscriber(args) }) } subscribe(topic, subscriber ) { if (!this.topics[topic]) { this.topics[topic] = [] } this.topics[topic].push(subscriber ) } } // æ¥æ”¶å‡½æ•°1 let subscriber1 = (reData) => { console.log('subscriber1', reData) } // æ¥æ”¶å‡½æ•°2 let subscriber2 = (reData) => { console.log('subscriber2', reData) } let pubsub = new PubSub() pubsub.subscribe('reEvent', subscriber1 ) pubsub.subscribe('reEvent', subscriber2 ) pubsub.publish('reEvent', 'é€šçŸ¥äº†') å››ã€å·¥å‚æ¨¡å¼å·¥å‚å‡½æ•°æä¾›ä¸€ä¸ªé€šç”¨çš„æ¥å£æ¥åˆ›å»ºå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šæˆ‘ä»¬å¸Œæœ›åˆ›å»ºçš„å¯¹è±¡ç±»å‹ï¼Œæˆ‘ä»¬é€šçŸ¥å·¥å‚å‡½æ•°éœ€è¦ä»€ä¹ˆç±»å‹çš„å¯¹è±¡å¹¶æä¾›å¯¹åº”çš„æ•°æ®ï¼Œè¿”å›å¯¹åº”çš„å®ä¾‹ã€‚ class Car { constructor(options) { // ... } } class Truck { constructor(options) { // ... } } function vehicleFactory (options) { if (options.type === 'car') { return new Car(options) } else { return new Truck(options) } } let getInstance = vehicleFactory({type: 'car',name: 'xxx'}) äº”ã€æŠ½è±¡å·¥å‚æ¨¡å¼æŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œå°†å¯¹è±¡çš„å®ç°ç»†èŠ‚æŠ½ç¦»å‡ºæ¥ã€‚é€‚ç”¨äºéœ€è¦å’Œå¤šç§å¯¹è±¡ä¸€èµ·å·¥ä½œçš„åœºæ™¯ã€‚ class Car { constructor(options) { // ... } } class Truck { constructor(options) { // ... } } class AbstractFactory { constructor() { this.types = {} } registerFactory(type, factory) { this.types[type] = factory } getInstance(type, args) { let factory = this.types[type] if (factory) { return new factory(args) } } } let abstractFactory = new AbortController() abstractFactory.registerFactory('car', Car) abstractFactory.registerFactory('truck', Truck) abstractFactory.getInstance('car', options) abstractFactory.getInstance('truck', options)","categories":[],"tags":[]},{"title":"ç›’å­æ¨¡å‹ï¼Œè¡Œå†…å…ƒç´ è¾¹è·ï¼Œç½®æ¢å…ƒç´ ","slug":"ç›’å­æ¨¡å‹ï¼Œè¡Œå†…å…ƒç´ è¾¹è·ï¼Œç½®æ¢å…ƒç´ ","date":"2020-09-09T03:29:00.000Z","updated":"2020-09-09T03:36:09.247Z","comments":true,"path":"he-zi-mo-xing-xing-nei-yuan-su-bian-ju-zhi-huan-yuan-su.html","link":"","permalink":"https://www.ding51.cn/he-zi-mo-xing-xing-nei-yuan-su-bian-ju-zhi-huan-yuan-su.html","excerpt":"","text":"ä¸€ã€ ç›’å­æ¨¡å‹ box-sizing: content-box;//å®½åº¦å’Œé«˜åº¦åˆ†åˆ«åº”ç”¨åˆ°å…ƒç´ çš„å†…å®¹æ¡†ã€‚åœ¨å®½åº¦å’Œé«˜åº¦ä¹‹å¤–ç»˜åˆ¶å…ƒç´ çš„å†…è¾¹è·å’Œè¾¹æ¡†ã€‚ box-sizing: border-box;// æ€ªå¼‚ç›’å­æ¨¡å‹ã€‚ ä¸ºå…ƒç´ è®¾å®šçš„å®½åº¦å’Œé«˜åº¦å†³å®šäº†å…ƒç´ çš„è¾¹æ¡†ç›’ã€‚å…ƒç´ æŒ‡å®šçš„ä»»ä½•å†…è¾¹è·å’Œè¾¹æ¡†éƒ½å°†åœ¨å·²è®¾å®šçš„å®½åº¦å’Œé«˜åº¦å†…è¿›è¡Œç»˜åˆ¶ã€‚é€šè¿‡ä»å·²è®¾å®šçš„å®½åº¦å’Œé«˜åº¦åˆ†åˆ«å‡å»è¾¹æ¡†å’Œå†…è¾¹è·æ‰èƒ½å¾—åˆ°å†…å®¹çš„å®½åº¦å’Œé«˜åº¦ã€‚ äºŒã€è¡Œå†…å…ƒç´ ï¼ˆå¦‚ï¼šspanã€emï¼‰ å…·æœ‰ç›’å­æ¨¡å‹ã€‚ è®¾ç½®å®½é«˜ä¸èµ·å·¦å³ã€‚ padding å†…è¾¹è·ä¸Šä¸‹å·¦å³éƒ½æœ‰æ•ˆæœï¼Œä½†æ˜¯ä¸Šä¸‹æ˜¯æ•ˆæœæ˜¾ç¤ºï¼Œä¸ä¼šäº§ç”Ÿå®é™…çš„ä½œç”¨ï¼Œä¸å½±å“å…¶ä»–å…ƒç´ ã€‚å·¦å³ä¼šäº§ç”Ÿå®é™…è·ç¦»ã€‚ margin åªæœ‰å·¦å³äº§ç”Ÿæ•ˆæœå½±å“ï¼Œä¸Šä¸‹ä¸ä¼šäº§ç”Ÿä»»ä½•æ•ˆæœä½œç”¨ã€‚ ä¸‰ã€ ç½®æ¢å…ƒç´ ç½®æ¢å…ƒç´ ï¼šæŒ‡æµè§ˆå™¨æ˜¯æ ¹æ®å…ƒç´ çš„å±æ€§æ¥åˆ¤æ–­å…·ä½“è¦æ˜¾ç¤ºçš„å†…å®¹çš„å…ƒç´ ã€‚æ¯”å¦‚imgæ ‡ç­¾ï¼Œæµè§ˆå™¨æ˜¯æ ¹æ®å…¶srcçš„å±æ€§å€¼æ¥è¯»å–è¿™ä¸ªå…ƒç´ æ‰€åŒ…å«çš„å†…å®¹çš„ï¼Œå¸¸è§çš„æ›¿æ¢å…ƒç´ è¿˜æœ‰ inputã€textareaã€selectã€objectã€iframeå’Œvideoç­‰ç­‰ imgè™½ç„¶æ˜¯è¡Œå†…å…ƒç´ ï¼Œä½†æ˜¯å®ƒæ˜¯ç½®æ¢å…ƒç´ ï¼Œä»–çš„padding å’Œ margin éƒ½ä¼šäº§ç”Ÿå®é™…ä½œç”¨ã€‚","categories":[{"name":"css","slug":"css","permalink":"https://www.ding51.cn/categories/css/"}],"tags":[]},{"title":"new çš„å®ç°è¿‡ç¨‹  es5 es6ç±»çš„å¯¹æ¯”","slug":"new-çš„å®ç°è¿‡ç¨‹-es5-es6ç±»çš„å¯¹æ¯”","date":"2020-08-18T07:43:00.000Z","updated":"2020-08-19T03:31:51.034Z","comments":true,"path":"new-de-shi-xian-guo-cheng-es5-es6-lei-de-dui-bi.html","link":"","permalink":"https://www.ding51.cn/new-de-shi-xian-guo-cheng-es5-es6-lei-de-dui-bi.html","excerpt":"","text":"1ã€ æ‰‹å†™newçš„å®ç°è¿‡ç¨‹ä¸»è¦å®ç°æ­¥éª¤ï¼š ç”Ÿæˆä¸€ä¸ªæ–°å¯¹è±¡ ä¸ºè¿™ä¸ªå¯¹è±¡è®¾ç½®prototype ä½¿ç”¨thisæ‰§è¡Œæ„é€ å‡½æ•° è¿”å›è¿™ä¸ªå¯¹è±¡ function _new() { // 1.ç”Ÿæˆä¸€ä¸ªæ–°å¯¹è±¡ let obj= {}; // ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ„é€ å‡½æ•° let [Fn, ...args] = [...arguments]; // 2.ä¸ºè¿™ä¸ªå¯¹è±¡è®¾ç½®prototype;å®é™…ä¸Šå°±æ˜¯ç”Ÿäº§äº†ä¸€ä¸ªæ–°çš„ä¸Šä¸‹æ–‡ obj.__proto__ = Fn.prototype; // 3.ä½¿ç”¨applyåœ¨objä½œç”¨åŸŸä¸­è°ƒç”¨æ„é€ å™¨å‡½æ•°ï¼Œå±æ€§å’Œæ–¹æ³•è¢«æ·»åŠ åˆ° this å¼•ç”¨çš„å¯¹è±¡å³objä¸­ let result = Fn.apply(obj, args); if (result &amp;&amp; (typeof (result) == \"object\" || typeof (result) == \"function\")) { // å¦‚æœæ„é€ å‡½æ•°æ‰§è¡Œçš„ç»“æœè¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆè¿”å›è¿™ä¸ªå¯¹è±¡ return result; } // 4.å¦‚æœæ„é€ å‡½æ•°è¿”å›çš„ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›åˆ›å»ºçš„æ–°å¯¹è±¡ return obj; } var person1=_new(Person, 20) // ç›¸å½“äº var person1 = new Person(20); 2ã€es5å’Œes6ä¸­ç±»çš„å¯¹æ¯”é™æ€ã€ç§æœ‰å˜é‡ç­‰ï¼Œ å®šä¹‰å®ç°çš„å¯¹æ¯” es5function Point(){ // ç§æœ‰å˜é‡ var num = 10; // å®šä¹‰è·å–ç§æœ‰å˜é‡çš„æ–¹æ³• åœ¨åŸå‹ä¸Šä¸èƒ½ç›´æ¥è·å–ç§æœ‰å˜é‡ this.getNum = function(){ return num; } // public this.x = x; //xï¼Œyå®šä¹‰åœ¨å¯¹è±¡è‡ªèº«ä¸Šé¢ this.y = y; } Point.prototype.add = function(){ console.log(this.x + this.y); console.log(this.getNum()); // è·å–ç§æœ‰å˜é‡ è¿™é‡Œthis.numç›´æ¥è·å–ä¸äº† ä½¿ç”¨é—­åŒ…è¿”å›æ•°æ® } //é™æ€å±æ€§ Person.total = 0; //é™æ€æ–¹æ³• Point.counter = function(){ return 'staticFn'; } var p = new Point(2, 3); p.add(); //è¾“å‡º5 1 0 es6class Point{ constructor(x, y) { //ç›¸å½“äºjavaä¸­çš„æ„é€ å‡½æ•°ï¼Œå¦‚æœä¸å†™é»˜è®¤ä¸ºç©º // public this.x = x; //xï¼Œyå®šä¹‰åœ¨å¯¹è±¡è‡ªèº«ä¸Šé¢ this.y = y; } // ç§æœ‰å±æ€§ es2020 #num = 10; //é™æ€å±æ€§ static total = 0; //é™æ€æ–¹æ³• static counter(){ return 'staticFn'; } add() { //è¯¥æ–¹æ³•å®šä¹‰åœ¨Point.prototypeä¸Š console.log(this.x + this.y); // è®¿é—®ç§æœ‰å±æ€§ console.log(this.#num); } } var p = new Point(2, 3); p.add(); //è¾“å‡º5 10 3ã€ES6ä¸­å½“å‡½æ•°ç”¨newå…³é”®è¯çš„æ—¶å€™ï¼Œå¢åŠ äº†new.targetå±æ€§æ¥åˆ¤æ–­å½“å‰è°ƒç”¨çš„æ„é€ å‡½æ•°1ã€å¯ä»¥é™åˆ¶å‡½æ•°çš„è°ƒç”¨ï¼Œæ¯”å¦‚ä¸€å®šè¦ç”¨newå‘½ä»¤æ¥è°ƒç”¨ function Person(name){ if(new.target === Person){ this.name = name; } else{ throw new Error('å¿…é¡»ç”¨newç”Ÿæˆå®ä¾‹'); } } 2ã€é™åˆ¶ç±»çš„è°ƒç”¨æ–¹æ³•ï¼Œåˆ¤æ–­new.targetæ˜¯ä¸æ˜¯æœªå®šä¹‰ã€‚å†™å‡ºåªèƒ½è¢«ç»§æ‰¿ä½¿ç”¨çš„ç±»ã€‚ class Shape { constructor() { if (new.target === Shape) { throw new Error('æœ¬ç±»ä¸èƒ½å®ä¾‹åŒ–'); } } } class Rectangle extends Shape { constructor(length, width) { super(); // ... } } var x = new Shape(); // æŠ¥é”™ var y = new Rectangle(3, 4); // æ­£ç¡®","categories":[{"name":"js","slug":"js","permalink":"https://www.ding51.cn/categories/js/"}],"tags":[{"name":"newå®ç°","slug":"newå®ç°","permalink":"https://www.ding51.cn/tags/newå®ç°/"},{"name":"es5ç±»","slug":"es5ç±»","permalink":"https://www.ding51.cn/tags/es5ç±»/"},{"name":"es6ç±»","slug":"es6ç±»","permalink":"https://www.ding51.cn/tags/es6ç±»/"}]},{"title":"this å’Œ æ„é€ å‡½æ•°æœ‰return ","slug":"thisæŒ‡å‘-å’Œ-æ„é€ å‡½æ•°æœ‰return","date":"2020-08-11T03:31:00.000Z","updated":"2020-08-11T03:42:59.807Z","comments":true,"path":"this-zhi-xiang-he-gou-zao-han-shu-you-return.html","link":"","permalink":"https://www.ding51.cn/this-zhi-xiang-he-gou-zao-han-shu-you-return.html","excerpt":"","text":"ä¸€ã€ es5ä¸­ this 1.åœ¨æ™®é€šå‡½æ•°ä¸­çš„thisæ€»æ˜¯ä»£è¡¨ä»–çš„ç›´æ¥è°ƒç”¨è€…ï¼Œé»˜è®¤æƒ…å†µä¸‹æŒ‡å‘windos 2.åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ²¡æœ‰ç›´æ¥è°ƒç”¨è€…çš„å‡½æ•°ä¸­çš„thisæ˜¯undefinedä½¿ç”¨ 3.call,apply,bindï¼ŒthisæŒ‡å‘çš„æ˜¯ç»‘å®šçš„å¯¹è±¡ï¼› 4.æ„é€ å‡½æ•°ä¸­çš„this äºŒã€ es6 ç®­å¤´å‡½æ•°ä¸­ thisç®­å¤´å‡½æ•°ä¸­çš„thisæŒ‡å‘æ˜¯å›ºå®šä¸å˜çš„ï¼ŒæŒ‡å‘çš„æ˜¯å®šä¹‰å®ƒçš„ç¯å¢ƒï¼Œæœ€è¿‘çš„ä½œç”¨åŸŸã€‚ 1ã€ç‚¹å‡»äº‹ä»¶ç»‘å®šçš„thisæŒ‡å‘ &lt;body> &lt;button class=\"draw\" id=\"draw\">Draw&lt;/button> &lt;div onclick=\"func(this)\" name=\"book1\">click div&lt;/div> &lt;script> function func(_this) { console.log(_this); // å½“å‰ç‚¹å‡»çš„div console.log(this); // window } var drawDom = document.getElementById('draw'); drawDom.addEventListener('click',function(){ console.log(this) // å½“å‰div }) drawDom.addEventListener('click',() => { console.log(this) // window }) &lt;/script> &lt;/body> 2ã€åµŒå¥—å‡½æ•° å’Œå˜é‡ä¸åŒï¼Œå…³é”®å­—thisæ²¡æœ‰ä½œç”¨åŸŸçš„é™åˆ¶ï¼ŒåµŒå¥—çš„å‡½æ•°ä¸ä¼šä»è°ƒç”¨å®ƒçš„å‡½æ•°ä¸­ç»§æ‰¿thisã€‚ 1ã€å¦‚æœåµŒå¥—å‡½æ•°ä½œä¸ºæ–¹æ³•è°ƒç”¨ï¼Œå…¶thisçš„å€¼æŒ‡å‘è°ƒç”¨å®ƒçš„å¯¹è±¡ã€‚ 2ã€å¦‚æœåµŒå¥—å‡½æ•°ä½œä¸ºå‡½æ•°è°ƒç”¨ï¼Œå…¶thiså€¼ä¸æ˜¯å…¨å±€å¯¹è±¡ï¼ˆéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰å°±æ˜¯undefinedï¼ˆä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰ã€‚ å¾ˆå¤šäººè¯¯ä»¥ä¸ºè°ƒç”¨åµŒå¥—å‡½æ•°æ—¶thisä¼šæŒ‡å‘è°ƒç”¨å¤–å±‚å‡½æ•°çš„ä¸Šä¸‹æ–‡ã€‚å¦‚æœä½ æƒ³è®¿é—®è¿™ä¸ªå¤–éƒ¨å‡½æ•°çš„thiså€¼ï¼Œéœ€è¦å°†thisçš„å€¼ä¿å­˜åœ¨ä¸€ä¸ªå˜é‡é‡Œï¼Œè¿™ä¸ªå˜é‡å’Œå†…éƒ¨å‡½æ•°éƒ½åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…ã€‚é€šå¸¸ç”¨selfæ¥ä¿å­˜thisã€‚ â€”â€”ã€ŠçŠ€ç‰›ä¹¦ã€‹8.2 å‡½æ•°è°ƒç”¨ ä¸¾ä¾‹è¯´æ˜ var name = \"windName\" var data = { name:' d a taNam e', fn: function (){ var name = \"fnName\" console.log(this .name ) //è¾“å‡ºï¼šdataName thisæŒ‡å‘data var fn2 = () =>{ var name = \"fn2Name\" console.log(this.name) //è¾“å‡ºï¼šdataName } var fn3 = function(){ var name = \"fn3Name\" console.log(this.name) //è¾“å‡ºï¼šwindName } fn2(); fn3(); // ** åµŒå¥—çš„å‡½æ•°è°ƒç”¨ thisæŒ‡å‘window(éä¸¥æ ¼æ¨¡å¼) } } data.fn(); // ä½œä¸ºæ–¹æ³•è°ƒç”¨ è¾“å‡ºï¼š dataName dataName windName var a = { foo: 1, bar: () => console.log(this.foo)//è¿™é‡Œæ˜¯ç®­å¤´å‡½æ•°æŒ‡å‘ å®šä¹‰è¯¥ç®­å¤´å‡½æ•°çš„ä½œç”¨åŸŸ } a.bar() //undefined thisæŒ‡å‘çš„window ä¸‰ã€ å½“å‡½æ•°æ„é€ å‡½æ•°æœ‰returnæ—¶å€™ 1.returnçš„æ˜¯äº”ç§ç®€å•æ•°æ®ç±»å‹ï¼šStringï¼ŒNumbe r ï¼ŒBooleanï¼ŒNullï¼ŒUndefinedã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œå¿½è§†returnå€¼ï¼Œä¾ç„¶è¿”å›thiså¯¹è±¡ã€‚ 2.returnçš„æ˜¯Object å¼•ç”¨ç±»å‹ã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œä¸å†è¿”å›thiså¯¹è±¡ï¼Œè€Œæ˜¯è¿”å›returnè¯­å¥çš„è¿”å›å€¼ // æ­£å¸¸æƒ…å†µ function A(){ this.age = 12; } var a = new A(); a.age // 12 //ä¸¾ä¾‹ function A(){ this.age = 12; return {} } var a = new A(); a.age // undefined returnè¿”å›çš„æ˜¯å¼•ç”¨ç±»å‹ã€‚è¿”å›çš„æ˜¯ {} //ä¸¾ä¾‹ function A(){ this.age = 12; return {age: 99} } var a = new A(); a.age //è¾“å‡ºï¼š 99 returnè¿”å›çš„æ˜¯å¼•ç”¨ç±»å‹ã€‚è¿”å›çš„æ˜¯ {age: 99} //ä¸¾ä¾‹ function A(){ this.age = 12; return 13 } var a = new A(); a.age // è¾“å‡ºï¼š12 return 12 è¿”å›çš„æ•°å€¼ç±»å‹ï¼Œè¿”å›thisçš„å¯¹è±¡","categories":[{"name":"js","slug":"js","permalink":"https://www.ding51.cn/categories/js/"}],"tags":[{"name":"this","slug":"this","permalink":"https://www.ding51.cn/tags/this/"},{"name":"æ„é€ å‡½æ•°return ","slug":"æ„é€ å‡½æ•°return","permalink":"https://www.ding51.cn/tags/æ„é€ å‡½æ•°return/"}]},{"title":"åŸå‹é¢˜-è§£æ","slug":"åŸå‹é“¾é¢˜-è§£æ","date":"2020-08-06T01:59:00.000Z","updated":"2020-08-06T02:09:09.862Z","comments":true,"path":"yuan-xing-lian-ti-jie-xi.html","link":"","permalink":"https://www.ding51.cn/yuan-xing-lian-ti-jie-xi.html","excerpt":"","text":"é¢˜ç›®å¦‚ä¸‹ï¼š function Fun(){ var getName = function(){ console.log(1); } return this; } Fun.getName = function(){ console.log(2); } Fun.prototype.getName = function(){ console.log(3); } var getName = function(){ console.log(4); } function getName(){ console.log(5); } Fun().getName(); getName(); Fun(); new Fun().getName(); new new Fun().getName(); ç»“æœï¼š Fun().getName(); // 4 getName(); // 4 Fun(); // æ— è¾“å‡º è¿”å›Windowå¯¹è±¡ new Fun().getName(); // 3 new new Fun().getName(); // 3 é¦–å…ˆæ˜ç™½å˜é‡å’Œå‡½æ•°æå‡ï¼Œ å‡½æ•°æå‡è¦æ¯”å˜é‡æå‡çš„ä¼˜å…ˆçº§è¦é«˜ä¸€äº›ï¼Œä¸”ä¸ä¼šè¢«å˜é‡å£°æ˜è¦†ç›–ï¼Œä½†æ˜¯ä¼šè¢«å˜é‡èµ‹å€¼ä¹‹åè¦†ç›–ã€‚ // ä¸¾ä¾‹è¯´æ˜ å˜é‡å’Œå‡½æ•°æå‡ï¼ˆæ‡‚çš„è‡ªåŠ¨è·³è¿‡ï¼‰ a() function a() { console.log(1) } var a = function(){ console.log(2) } a() // è¾“å‡ºï¼š 1 ï¼Œ 2 // æ‰§è¡Œçš„ä»£ç é¡ºåºå¦‚ä¸‹ function a() { console.log(1) }; var a; a() // è¾“å‡º 1 a = function(){ console.log(2) } a() // è¾“å‡º2 è¯¦ç»†è§£æï¼šé¢˜ç›®ä¸­å˜é‡æå‡åçš„å†™æ³•ï¼ˆæ–¹ä¾¿æå§ï¼‰ // getName å˜é‡æå‡ function getName(){ console.log(5); } function Fun(){ var getName = function(){ console.log(1); } return this; } var getName; // å±æ€§ä¸Šæ·»åŠ getName Fun.getName = function(){ console.log(2); } // åŸå‹ä¸Šæ·»åŠ æ–¹æ³• Fun.prototype.getName = function(){ console.log(3); } getName = function(){ console.log(4); } Fun().getName(); getName(); Fun(); new Fun().getName(); new new Fun().getName() 1. Fun().getName()é¦–å…ˆæ‰§è¡ŒFun()æ—¶ï¼Œè¿”å›this,è¿™é‡ŒæŒ‡å‘windowï¼Œç›¸å½“äº window.getName() , getNameæœ€åè¢« console.log(4) çš„å‡½æ•°èµ‹å€¼ï¼› æ‰€ä»¥è¾“å‡ºï¼š 4; 2.getName()ç›¸å½“äºæ‰§è¡Œ window.getName()ï¼Œ åŒä¸Šã€‚ è¾“å‡ºï¼š4ï¼› 3.Fun()è¿”å›this, å½“å‰ç¯å¢ƒ window 4.new Fun().getName()è¿™é‡Œçš„æ‰§è¡Œé¡ºåºæ˜¯ 1.å…ˆ new Fun() 2.å†æ‰§è¡ŒgetName() // ç›¸å½“äºæ‰§è¡Œ var fn = new Fun() fn.getName() æ‰§è¡Œnew Fun() å®ä¾‹åŒ–çš„å¯¹è±¡ å ï¼Œ getName()æ–¹æ³•å®ä¼šå» Funæ„é€ å‡½æ•°ä¸­æ‰¾ï¼Œæ²¡æ‰¾åˆ°ç„¶åä¼šå»åŸå‹ prototypeä¸Šå»æ‰¾getNameã€‚è¿™é‡ŒåŸå‹é“¾æœ‰è¯¥å‡½æ•°ï¼Œè°ƒç”¨ // ææ¸…æ¥š å¦‚ä¸‹ function A(){ this.names = \"ab\" } A.names = \"kk\" A.prototype.names = \"99\" var a = new A() console.log(a.names) // ab console.log(A.names) // kk 5.new new Fun().getName()æ‰§è¡Œé¡ºåºï¼š 1. new Fun() 2. new Fun.prototype.getName() // ç›¸å½“äºæ‰§è¡Œ var Fn1 = new Fun() var Fn2 = Fn1.getName new Fn2()","categories":[{"name":"js","slug":"js","permalink":"https://www.ding51.cn/categories/js/"}],"tags":[{"name":"åŸå‹ ","slug":"åŸå‹","permalink":"https://www.ding51.cn/tags/åŸå‹/"},{"name":"å˜é‡æå‡","slug":"å˜é‡æå‡","permalink":"https://www.ding51.cn/tags/å˜é‡æå‡/"},{"name":"å‡½æ•°æå‡","slug":"å‡½æ•°æå‡","permalink":"https://www.ding51.cn/tags/å‡½æ•°æå‡/"}]},{"title":"å›æµ é‡ç»˜","slug":"å›æµ-é‡ç»˜","date":"2020-07-22T06:29:00.000Z","updated":"2020-07-22T07:55:03.320Z","comments":true,"path":"hui-liu-chong-hui.html","link":"","permalink":"https://www.ding51.cn/hui-liu-chong-hui.html","excerpt":"","text":"ä¸€ã€æ¦‚å¿µ dom-tree: æµè§ˆå™¨æŠŠè·å–åˆ°çš„HTMLä»£ç è§£ææˆ1ä¸ªDOMæ ‘ï¼ŒDOMæ ‘é‡ŒåŒ…å«äº†æ‰€æœ‰HTMLæ ‡ç­¾ï¼ŒåŒ…æ‹¬display:noneéšè—ï¼Œè¿˜æœ‰ç”¨JSåŠ¨æ€æ·»åŠ çš„å…ƒç´ ç­‰ã€‚ æ ·å¼ç»“æ„ä½“: æµè§ˆå™¨æŠŠæ‰€æœ‰æ ·å¼(ç”¨æˆ·å®šä¹‰çš„CSSå’Œç”¨æˆ·ä»£ç†)è§£æã€‚ render treeï¼ˆæ¸²æŸ“æ ‘ï¼‰: dom-tree + æ ·å¼ç»“æ„ä½“, render treeä¸­æ¯ä¸ªNODEéƒ½æœ‰è‡ªå·±çš„styleï¼Œè€Œä¸”render treeä¸åŒ…å«éšè—çš„èŠ‚ç‚¹(æ¯”å¦‚display:noneçš„èŠ‚ç‚¹ï¼Œè¿˜æœ‰headèŠ‚ç‚¹)ï¼Œå› ä¸ºè¿™äº›èŠ‚ç‚¹ä¸ä¼šç”¨äºå‘ˆç°ï¼Œè€Œä¸”ä¸ä¼šå½±å“å‘ˆç°çš„ï¼Œæ‰€ä»¥å°±ä¸ä¼šåŒ…å«åˆ° render treeä¸­ã€‚ å›æµï¼šå½“render treeä¸­çš„ä¸€éƒ¨åˆ†(æˆ–å…¨éƒ¨)å› ä¸ºå…ƒç´ çš„è§„æ¨¡å°ºå¯¸ï¼Œå¸ƒå±€ï¼Œéšè—ç­‰æ”¹å˜è€Œéœ€è¦é‡æ–°æ„å»ºã€‚è¿™å°±ç§°ä¸ºå›æµ(reflow)ã€‚æ¯ä¸ªé¡µé¢è‡³å°‘éœ€è¦ä¸€æ¬¡å›æµï¼Œå°±æ˜¯åœ¨é¡µé¢ç¬¬ä¸€æ¬¡åŠ è½½çš„æ—¶å€™ï¼Œè¿™æ—¶å€™æ˜¯ä¸€å®šä¼šå‘ç”Ÿå›æµçš„ ä¾‹å­ï¼š æ·»åŠ æˆ–è€…åˆ é™¤å¯è§çš„DOMå…ƒç´ ï¼› å…ƒç´ å°ºå¯¸æ”¹å˜â€”â€”è¾¹è·ã€å¡«å……ã€è¾¹æ¡†ã€å®½åº¦å’Œé«˜åº¦ å†…å®¹å˜åŒ–ï¼Œæ¯”å¦‚ç”¨æˆ·åœ¨inputæ¡†ä¸­è¾“å…¥æ–‡å­— æµè§ˆå™¨çª—å£å°ºå¯¸æ”¹å˜â€”â€”resizeäº‹ä»¶å‘ç”Ÿæ—¶ è®¡ç®— offsetWidth å’Œ offsetHeight å±æ€§ è®¾ç½® style å±æ€§çš„å€¼ é‡ç»˜ï¼šrender treeä¸­çš„ä¸€äº›å…ƒç´ éœ€è¦æ›´æ–°å±æ€§ï¼Œè€Œè¿™äº›å±æ€§åªæ˜¯å½±å“å…ƒç´ çš„å¤–è§‚ï¼Œé£æ ¼ï¼Œè€Œä¸ä¼šå½±å“å¸ƒå±€çš„ï¼Œæ¯”å¦‚å­—ä½“colorã€‚åˆ™å°±å«ç§°ä¸ºé‡ç»˜ã€‚ äºŒã€å›æµé‡ç»˜åŒºåˆ«ï¼š è‡³å°‘ä¼šå‘ç”Ÿä¸€æ¬¡å›æµã€‚ å›æµå¿…å°†å¼•èµ·é‡ç»˜ï¼Œè€Œé‡ç»˜ä¸ä¸€å®šä¼šå¼•èµ·å›æµã€‚ ä¸‰ã€ä¼˜åŒ–å¯ä»¥å‘ç°å›æµçš„æˆæœ¬è¦æ¯”é‡ç»˜çš„æˆæœ¬é«˜ï¼Œä¸æ„å»ºçš„render-tree èŠ‚ç‚¹æœ‰å…³ç³»ã€‚ æµè§ˆå™¨ä¼˜åŒ–æµè§ˆå™¨è‡ªå»ºä¸€ä¸ªé˜Ÿåˆ—ï¼Œå½“å›æµå’Œé‡ç»˜è¾¾åˆ°ä¸€å®šæ•°é‡æˆ–æ—¶é—´æ—¶ï¼Œæµè§ˆå™¨å†æ›´æ–°ã€‚ ä»£ç å±‚ä¼˜åŒ–1. æ·»åŠ domèŠ‚ç‚¹æ—¶ï¼Œåˆ›å»ºä¸ªæ¨¡æ¿ï¼Œä¸€æ¬¡æ·»åŠ å®Œï¼Œä¸è¦ä¸€ä¸ªä¸ªå•ç‹¬æ·»åŠ ã€‚2.åˆ†ç¦»è¯»å†™ æ ·å¼é›†ä¸­ä¿®æ”¹ï¼ˆæµè§ˆå™¨ä¼˜åŒ–æœºåˆ¶ï¼‰ï¼Œé›†ä¸­è¯»å–offsetWidthç­‰å±æ€§ï¼ˆå¦‚æœæµè§ˆå™¨é˜Ÿåˆ—ä¸­å›æµç­‰ï¼Œæ¯æ¬¡è¯»å–è¿™äº›å±æ€§éƒ½ä¼šå¼•èµ·å›æµï¼‰ï¼Œå»ºè®®é€šè¿‡æ”¹å˜classæˆ–è€…csstextå±æ€§é›†ä¸­æ”¹å˜æ ·å¼ã€‚ // ä¼šå¼•èµ·å››æ¬¡ å›æµ div.style.left = '10px'; console.log(div.offsetLeft); div.style.top = '10px'; console.log(div.offsetTop); div.style.width = '20px'; console.log(div.offsetWidth); div.style.height = '20px'; console.log(div.offsetHeight); // ä¸€æ¬¡å›æµ(å‰é¢4ä¸ªæ ·å¼çš„è®¾ç½®ï¼Œæµè§ˆå™¨ä¼šä¼˜åŒ–ä¸€æ¬¡æ¸²æŸ“) div.style.left = '10px'; div.style.top = '10px'; div.style.width = '20px'; div.style.height = '20px'; console.log(div.offsetLeft); console.log(div.offsetTop); console.log(div.offsetWidth); console.log(div.offsetHeight); // æ¨èä½¿ç”¨ class å’Œ cssText æ”¹å˜ el.className += \" theclassname\"; el.style.cssText += \"; left: \" + left + \"px; top: \" + top + \"px;\"; 3.ç¼“å­˜å¸ƒå±€ä¿¡æ¯// bad å¼ºåˆ¶åˆ·æ–° è§¦å‘ä¸¤æ¬¡é‡æ’ div.style.left = div.offsetLeft + 1 + 'px'; div.style.top = div.offsetTop + 1 + 'px'; // good ç¼“å­˜å¸ƒå±€ä¿¡æ¯ ç›¸å½“äºè¯»å†™åˆ†ç¦» var curLeft = div.offsetLeft; var curTop = div.offsetTop; div.style.left = curLeft + 1 + 'px'; div.style.top = curTop + 1 + 'px'; 4.éšè—dom,å†ä¿®æ”¹æ ·å¼dom.display = 'none' // ä¿®æ”¹domæ ·å¼ï¼Œä¿®æ”¹å®Œå†æ˜¾ç¤ºdom dom.display = 'block'","categories":[],"tags":[{"name":"é‡ç»˜","slug":"é‡ç»˜","permalink":"https://www.ding51.cn/tags/é‡ç»˜/"},{"name":"å›æµ","slug":"å›æµ","permalink":"https://www.ding51.cn/tags/å›æµ/"}]},{"title":"httpç¼“å­˜","slug":"httpç¼“å­˜","date":"2020-07-22T03:27:00.000Z","updated":"2020-07-22T03:30:44.805Z","comments":true,"path":"http-huan-cun.html","link":"","permalink":"https://www.ding51.cn/http-huan-cun.html","excerpt":"","text":"ä¸€ã€3ç§å¼ºç¼“å­˜æè¿°ï¼š ä¸éœ€è¦å‘é€è¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼Œç›´æ¥è¯»å–æµè§ˆå™¨æœ¬åœ°ç¼“å­˜ 1. Expiresï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼‰Expires çš„å€¼æ˜¯ä¸€ä¸ª HTTP æ—¥æœŸï¼ŒWEBæœåŠ¡å™¨ä½¿ç”¨Expireså¤´æ¥å‘Šè¯‰Webå®¢æˆ·ç«¯ï¼Œä¼šæ ¹æ®ç³»ç»Ÿæ—¶é—´å’Œ Expires çš„å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç³»ç»Ÿæ—¶é—´è¶…è¿‡äº† Expires çš„å€¼ï¼Œç¼“å­˜å¤±æ•ˆã€‚ç”±äºå’Œç³»ç»Ÿæ—¶é—´è¿›è¡Œæ¯”è¾ƒï¼Œæ‰€ä»¥å½“ç³»ç»Ÿæ—¶é—´å’ŒæœåŠ¡å™¨æ—¶é—´ä¸ä¸€è‡´çš„æ—¶å€™ï¼Œä¼šæœ‰ç¼“å­˜æœ‰æ•ˆæœŸä¸å‡†çš„é—®é¢˜ã€‚ Expires çš„ä¼˜å…ˆçº§åœ¨ä¸‰ä¸ª Header å±æ€§ä¸­æ˜¯æœ€ä½çš„ã€‚ 2. Cache-Controlï¼ˆä¸­ï¼‰max-ageï¼šå•ä½æ˜¯ç§’ï¼Œç¼“å­˜æ—¶é—´è®¡ç®—çš„æ–¹å¼æ˜¯è·ç¦»å‘èµ·çš„æ—¶é—´çš„ç§’æ•°ï¼Œè¶…è¿‡é—´éš”çš„ç§’æ•°ç¼“å­˜å¤±æ•ˆ no-cacheï¼šä¸ä½¿ç”¨å¼ºç¼“å­˜ï¼Œéœ€è¦ä¸æœåŠ¡å™¨éªŒè¯ç¼“å­˜æ˜¯å¦æ–°é²œ no-storeï¼šç¦æ­¢ä½¿ç”¨ç¼“å­˜ï¼ˆåŒ…æ‹¬åå•†ç¼“å­˜ï¼‰ï¼Œæ¯æ¬¡éƒ½å‘æœåŠ¡å™¨è¯·æ±‚æœ€æ–°çš„èµ„æº privateï¼šä¸“ç”¨äºä¸ªäººçš„ç¼“å­˜ï¼Œä¸­é—´ä»£ç†ã€CDN ç­‰ä¸èƒ½ç¼“å­˜æ­¤å“åº” publicï¼šå“åº”å¯ä»¥è¢«ä¸­é—´ä»£ç†ã€CDN ç­‰ç¼“å­˜ must-revalidateï¼šåœ¨ç¼“å­˜è¿‡æœŸå‰å¯ä»¥ä½¿ç”¨ï¼Œè¿‡æœŸåå¿…é¡»å‘æœåŠ¡å™¨éªŒè¯ 3. Pragmaï¼ˆæœ€é«˜ï¼‰Pragma åªæœ‰ä¸€ä¸ªå±æ€§å€¼ï¼Œå°±æ˜¯ no-cache ï¼Œæ•ˆæœå’Œ Cache-Control ä¸­çš„ no-cache ä¸€è‡´ äºŒã€åå•†ç¼“å­˜å½“æµè§ˆå™¨çš„å¼ºç¼“å­˜æ— æ•ˆï¼Œå¹¶ä¸”åœ¨è¯·æ±‚å¤´ä¸­è®¾ç½®äº†If-Modified-Since æˆ–è€… If-None-Match çš„æ—¶å€™ï¼Œä¼šå°†è¿™ä¸¤ä¸ªå±æ€§å€¼åˆ°æœåŠ¡ç«¯å»éªŒè¯æ˜¯å¦å‘½ä¸­åå•†ç¼“å­˜ï¼Œå¦‚æœå‘½ä¸­äº†åå•†ç¼“å­˜ï¼Œä¼šè¿”å› 304 çŠ¶æ€ï¼ŒåŠ è½½æµè§ˆå™¨ç¼“å­˜ï¼Œå¹¶ä¸”å“åº”å¤´ä¼šè®¾ç½® Last-Modified æˆ–è€… ETag å±æ€§ã€‚ 1. ETagï¼ˆè¿”å›å¤´ï¼‰ If-None-Matchï¼ˆè¯·æ±‚å¤´è®¾ç½®ï¼‰ETag/If-None-Match çš„å€¼æ˜¯ä¸€ä¸² hash ç ï¼Œä»£è¡¨çš„æ˜¯ä¸€ä¸ªèµ„æºçš„æ ‡è¯†ç¬¦ï¼Œå½“æœåŠ¡ç«¯çš„æ–‡ä»¶å˜åŒ–çš„æ—¶å€™ï¼Œå®ƒçš„ hashç ä¼šéšä¹‹æ”¹å˜ï¼Œé€šè¿‡è¯·æ±‚å¤´ä¸­çš„ If-None-Match å’Œå½“å‰æ–‡ä»¶çš„ hash å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰åˆ™è¡¨ç¤ºå‘½ä¸­åå•†ç¼“å­˜ã€‚ETag åˆæœ‰å¼ºå¼±æ ¡éªŒä¹‹åˆ†ï¼Œå¦‚æœ hash ç æ˜¯ä»¥ â€œW/â€œ å¼€å¤´çš„ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œè¯´æ˜æ­¤æ—¶åå•†ç¼“å­˜çš„æ ¡éªŒæ˜¯å¼±æ ¡éªŒçš„ï¼Œåªæœ‰æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶å·®å¼‚ï¼ˆæ ¹æ® ETag è®¡ç®—æ–¹å¼æ¥å†³å®šï¼‰è¾¾åˆ°èƒ½å¤Ÿè§¦å‘ hash å€¼åç¼€å˜åŒ–çš„æ—¶å€™ï¼Œæ‰ä¼šçœŸæ­£åœ°è¯·æ±‚èµ„æºï¼Œå¦åˆ™è¿”å› 304 å¹¶åŠ è½½æµè§ˆå™¨ç¼“å­˜ã€‚ 2. Last-Modifiedï¼ˆè¿”å›å¤´ï¼‰ If-Modified-Sinceï¼ˆè¯·æ±‚å¤´è®¾ç½®ï¼‰ Last-Modified/If-Modified-Since çš„å€¼ä»£è¡¨çš„æ˜¯æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡ç«¯ä¼šæŠŠèµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´æ”¾åˆ° Last-Modified å“åº”å¤´ä¸­ï¼Œç¬¬äºŒæ¬¡å‘èµ·è¯·æ±‚çš„æ—¶å€™ï¼Œè¯·æ±‚å¤´ä¼šå¸¦ä¸Šä¸Šä¸€æ¬¡å“åº”å¤´ä¸­çš„ Last-Modified çš„æ—¶é—´ï¼Œå¹¶æ”¾åˆ° If-Modified-Since è¯·æ±‚å¤´å±æ€§ä¸­ï¼ŒæœåŠ¡ç«¯æ ¹æ®æ–‡ä»¶æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´å’Œ If-Modified-Since çš„å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰ï¼Œè¿”å› 304 ï¼Œå¹¶åŠ è½½æµè§ˆå™¨ç¼“å­˜ã€‚","categories":[{"name":"http","slug":"http","permalink":"https://www.ding51.cn/categories/http/"}],"tags":[{"name":"httpç¼“å­˜","slug":"httpç¼“å­˜","permalink":"https://www.ding51.cn/tags/httpç¼“å­˜/"}]},{"title":"æŸ¯é‡ŒåŒ–-åå‡½æ•°-åæŸ¯é‡ŒåŒ–","slug":"æŸ¯é‡ŒåŒ–-åå‡½æ•°-åæŸ¯é‡ŒåŒ–","date":"2020-07-21T05:56:00.000Z","updated":"2020-07-21T06:11:20.100Z","comments":true,"path":"ke-li-hua-pian-han-shu-fan-ke-li-hua.html","link":"","permalink":"https://www.ding51.cn/ke-li-hua-pian-han-shu-fan-ke-li-hua.html","excerpt":"","text":"1. æŸ¯é‡ŒåŒ– æè¿°ï¼šæŸ¯é‡ŒåŒ–ç®—æ˜¯ç‰¹æ®Šçš„åå‡½æ•°ï¼ŒæŠŠä¸€ä¸ªå¤šå‚æ•°å‡½æ•°è½¬æ¢æˆå¤šä¸ªå•å‚æ•°å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´æŠŠä¸€ä¸ªå…·æœ‰nä¸ªå‚æ•°çš„å‡½æ•°è½¬æ¢æˆnä¸ªä¸€å…ƒå‡½æ•° ç‰¹ç‚¹ï¼š 1ã€é—­åŒ…ï¼Œè°ƒç”¨æŸ¯é‡ŒåŒ–å‡½æ•°ï¼ˆcurrieï¼‰è¿”å›å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼ˆ_myFnï¼‰ï¼Œé€šè¿‡é—­åŒ…ç¼“å­˜çœŸæ­£æ‰§è¡Œè¿ç®—çš„å‡½æ•°ï¼ˆfnï¼‰å’Œå‚æ•°ï¼ˆargsï¼‰ 2ã€ é€šè¿‡è¿”å›çš„å‡½æ•°ä¼ é€’å‚æ•°ï¼Œå¹¶è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœå‚æ•°å·²ç»ä¼ é€’å¤Ÿäº†ï¼Œå°±æ‰§è¡Œå‡½æ•°ï¼ˆfn)å¹¶è¿”å›ç»“æœï¼Œå¦‚æœå‚æ•°è¿˜æ²¡ä¼ é€’å®Œï¼Œåˆ™ç»§ç»­è¿”å›å‡½æ•°ï¼ˆ_myFnï¼‰æ¥æ”¶å‚æ•° ä¾‹å­ï¼š // æ­£å¸¸å†™æ³• const add = (a + b) => a+b const resAdd = add(2, 3) // æŸ¯é‡ŒåŒ– const add = a => b => a+b; const resCurrie = add(2)(3) 2. åå‡½æ•°æè¿°ï¼š åå‡½æ•°åˆå«å±€éƒ¨åº”ç”¨ï¼Œå›ºå®šå‡½æ•°çš„ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•° ç‰¹ç‚¹ï¼šåå‡½æ•°çš„ä»£ç æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯åˆ©ç”¨é—­åŒ…ç¼“å­˜å®é™…çš„æ‰§è¡Œæ–¹æ³•ï¼ˆfnï¼‰å’Œä¸ä¹‹çš„å‚æ•°ï¼ˆpresetï¼‰ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ¥æ”¶å‰©ä½™å‚æ•°çš„æ–¹æ³•ï¼Œæ–¹æ³•çš„å®ç°å°±æ˜¯æ‰§è¡Œfnå¹¶è¿”å›ç»“æœ ä¸¾ä¾‹ï¼š // ä¸€èˆ¬å†™æ³• // å°è£…ä¸€ä¸ªajaxæ–¹æ³• function ajax (url, data, callback) { ... } // è°ƒç”¨ajaxæ–¹æ³•ï¼Œ ajax('http://xxx.com', { a: 'aa' }, function () { // å›è°ƒ A }) ajax('http://xxx.com', { b: 'bb' }, function () { // å›è°ƒ B }) ajax('http://xxx.com', { y: 'yy' }, function () { // å›è°ƒ Y }) // ä¸Šé¢urlå‚æ•°é‡å¤å¡«å†™ // åå‡½æ•° function partial (url) { return function (data, cb) { ajax(url, data, cb) } } // è°ƒç”¨åå‡½æ•° const partialAjax = partial('http://lyn.com') // å‘é€ajaxè¯·æ±‚ partialAjax({ a: 'aa' }, function () { // å›è°ƒ A }) partialAjax({ b: 'bb' }, function () { // å›è°ƒ B }) partialAjax({ y: 'yy' }, function () { // å›è°ƒ Y }) 3.åæŸ¯é‡ŒåŒ–æè¿°ï¼š åæŸ¯é‡ŒåŒ–ä½œç”¨å’Œåå‡½æ•°ç›¸åï¼Œå®ƒçš„æœ¬è´¨æ˜¯å¢å¼ºä¸€ä¸ªå‡½æ•°çš„ä½¿ç”¨èŒƒå›´ï¼Œè®©ä¸€ä¸ªå¯¹è±¡å¯ä»¥ä½¿ç”¨ä¸å±äºå¯¹è±¡è‡ªå·±çš„æ–¹æ³•ï¼Œå°±åƒapplyã€callã€bindï¼ˆä¹Ÿæœ‰åå‡½æ•°çš„ä½œç”¨ï¼‰çš„ä½œç”¨ï¼Œè€Œäº‹å®ä¸ŠåæŸ¯é‡ŒåŒ–å°±æ˜¯é€šè¿‡applyã€callæ–¹æ³•å®ç°çš„ã€‚ ä¸¾ä¾‹ï¼š Function.prototype.uncurrie = function (obj) { // å‚æ•°objæ˜¯éœ€è¦æ“ä½œçš„å¯¹è±¡ // è¿™é‡Œçš„thisæ˜¯æŒ‡objå¯¹è±¡éœ€è¦å€Ÿç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚ç¤ºä¾‹ä¸­çš„Array.prototype.push const fn = this return function (...args) { // éš¾ç‚¹ï¼Œä»¥ä¸‹ä»£ç ç›¸å½“äºï¼šfn.call(obj, ...args), æ²¡ç†è§£è¯·çœ‹ä¸‹é¢çš„ â€œä»£ç è§£æâ€ éƒ¨åˆ† return Function.prototype.call.apply(fn, [obj, ...args]) } } // ç¤ºä¾‹ï¼Œå¯¼å‡ºArray.prototype.pushæ–¹æ³•ç»™å¯¹è±¡ä½¿ç”¨ const obj = { a: 'aa' } const push = Array.prototype.push.uncurrie(obj) push('b') push('c') console.log(obj) // {0: \"b\", 1: \"c\", a: \"aa\", length: 2} å‚è€ƒï¼šhttps://segmentfault.com/a/1190000022416728","categories":[],"tags":[{"name":"æŸ¯é‡ŒåŒ–","slug":"æŸ¯é‡ŒåŒ–","permalink":"https://www.ding51.cn/tags/æŸ¯é‡ŒåŒ–/"},{"name":"åå‡½æ•°","slug":"åå‡½æ•°","permalink":"https://www.ding51.cn/tags/åå‡½æ•°/"},{"name":"åæŸ¯é‡ŒåŒ–","slug":"åæŸ¯é‡ŒåŒ–","permalink":"https://www.ding51.cn/tags/åæŸ¯é‡ŒåŒ–/"}]},{"title":"å¼€æœºè‡ªå¯å…¨å±è®¾ç½®chromeå’Œfirefox","slug":"ubuntuè®¾ç½®chromeå’Œfirefoxå¼€æœºå…¨å±è‡ªå¯","date":"2020-06-19T07:36:00.000Z","updated":"2020-11-09T08:31:04.132Z","comments":true,"path":"ubuntu-she-zhi-chrome-he-firefox-kai-ji-quan-ping-zi-qi.html","link":"","permalink":"https://www.ding51.cn/ubuntu-she-zhi-chrome-he-firefox-kai-ji-quan-ping-zi-qi.html","excerpt":"","text":"ä¸€. è®¾ç½®å¼€æœºè‡ªå¯æµè§ˆå™¨æ³¨ï¼š æ­¤è®¾ç½®åŸºäºubuntuç³»ç»Ÿ1.æ–°å»ºautostar# æŸ¥çœ‹æœ‰æ²¡æœ‰autostartæ–‡ä»¶,æ²¡æœ‰æ–°å»º $ mkdir ~/.config/autostart 2.æ‹·è´.desktop åˆ° autostart# æŸ¥æ‰¾åº”ç”¨ä½ç½®(å¦‚è°·æ­Œ) sudo find / -name *google-chrome.desktop $ cp /usr/share/applications/firefox.desktop ~/.config/autostart/ 3.æ–‡ä»¶æˆæƒ$ chmod +x ~/.config/autostart/firefox.desktop äºŒ. è®¾ç½®ç«ç‹å…¨å±è®¾ç½®1.ç«ç‹æµè§ˆå™¨è‡ªåŠ¨å…¨å±æ’ä»¶ï¼š Auto Fullscreen æ³¨ï¼šå®¹æ˜“å®‰è£…æˆå¦å¤–ä¸€æ¬¾ï¼Œç‰¹æ­¤æ ‡æ³¨ 2.è®¾ç½®æµè§ˆå™¨æ‰“å¼€ä¸æ˜¾ç¤ºä¸Šæ¬¡çš„å†å²è®°å½• ä¸‰. è°·æ­Œå…¨å±ï¼Œä¸è¾“å¯†ç è®¾ç½®1.æ¯æ¬¡æ‰“å¼€è°·æ­Œéœ€è¦è¾“å…¥å¯†ç ï¼Œå…å¯†è®¾ç½®å¦‚ä¸‹ 2.è°·æ­Œæµè§ˆå™¨å…¨å±è®¾ç½® åœ¨commandè¾“å…¥æœ€åå†™å…¥å¯åŠ¨æ‰“å¼€çš„åœ°å€å’Œå…¨å±å‚æ•°ï¼šhttp://localhost:8000 --start-fullscreen /usr/bin/google-chrome-stable %U http://localhost:8000 --start-fullscreen ä¿å­˜å³å¯!å››. win10 è‡ªå¯é¡¹è®¾ç½®1.æŒ‰ä¸‹win+Rè°ƒå‡ºè¿è¡Œçª—å£ï¼Œå¹¶è¾“å…¥â€œshell:startupâ€å³å¯è¿›å…¥å¼€æœºå¯åŠ¨æ–‡ä»¶å¤¹ 2.æ·»åŠ å¯åŠ¨é¡¹ï¼Œå¯ä»¥å°†è½¯ä»¶å¿«æ·æ–¹å¼ç§»å…¥å¼€æœºå¯åŠ¨æ–‡ä»¶å¤¹ä¸­ï¼Œå³å¯","categories":[{"name":"ubuntuæµè§ˆå™¨è‡ªå¯è®¾ç½®","slug":"ubuntuæµè§ˆå™¨è‡ªå¯è®¾ç½®","permalink":"https://www.ding51.cn/categories/ubuntuæµè§ˆå™¨è‡ªå¯è®¾ç½®/"}],"tags":[{"name":"ubuntu ","slug":"ubuntu","permalink":"https://www.ding51.cn/tags/ubuntu/"},{"name":"æµè§ˆå™¨è‡ªå¯å…¨å±","slug":"æµè§ˆå™¨è‡ªå¯å…¨å±","permalink":"https://www.ding51.cn/tags/æµè§ˆå™¨è‡ªå¯å…¨å±/"}]},{"title":"jsäº‹ä»¶","slug":"jsäº‹ä»¶æµ","date":"2019-12-31T08:26:13.000Z","updated":"2020-07-22T07:54:21.830Z","comments":true,"path":"js-shi-jian-liu.html","link":"","permalink":"https://www.ding51.cn/js-shi-jian-liu.html","excerpt":"","text":"jsäº‹ä»¶æ¦‚å¿µ:HTMLä¸­ä¸javascriptäº¤äº’æ˜¯é€šè¿‡äº‹ä»¶é©±åŠ¨æ¥å®ç°çš„ï¼Œä¾‹å¦‚é¼ æ ‡ç‚¹å‡»äº‹ä»¶ã€é¡µé¢çš„æ»šåŠ¨äº‹ä»¶onscrollç­‰ç­‰,å½“é¡µé¢äº§ç”Ÿä¸€ä¸ªäº‹ä»¶æ—¶,è¯¥äº‹ä»¶ä¼šåœ¨å…ƒç´ èŠ‚ç‚¹ä¸æ ¹èŠ‚ç‚¹ä¹‹é—´çš„è·¯å¾„ä¼ æ’­ï¼Œè·¯å¾„æ‰€ç»è¿‡çš„èŠ‚ç‚¹éƒ½ä¼šæ”¶åˆ°è¯¥äº‹ä»¶ï¼Œè¿™ä¸ªä¼ æ’­çš„è¿‡ç¨‹å«åšDOMäº‹ä»¶æµä¸€. å½“é¡µé¢äº§ç”Ÿä¸€ä¸ªäº‹ä»¶æ—¶ç»è¿‡çš„ä¸‰ä¸ªé˜¶æ®µ: äº‹ä»¶æ•è·é˜¶æ®µdocumenté¡¶éƒ¨å…ˆæ¥æ”¶åˆ°äº‹ä»¶ï¼Œä¾æ¬¡å¾€ä¸‹ä¼ æ’­åˆ°äº‹ä»¶èŠ‚ç‚¹ï¼ˆå¯ä»¥å€Ÿç”¨addEventListeneræ¥æ¨¡æ‹Ÿäº‹ä»¶æ•è·æµï¼‰ å¤„äºç›®æ ‡é˜¶æ®µ äº‹ä»¶å†’æ³¡é˜¶æ®µäº‹ä»¶å¼€å§‹æ—¶ç”±æœ€å…·ä½“çš„å…ƒç´ æ¥æ”¶ï¼Œç„¶åé€çº§å‘ä¸Šä¼ æ’­æ‰§è¡Œæµç¨‹: ç¤ºä¾‹ä»£ç :è¯´æ˜: addEventListener ç¬¬ä¸€ä¸ªå‚æ•°: äº‹ä»¶åç§°, ç¬¬äºŒä¸ªå‚æ•°: è§¦å‘å‡½æ•°, ç¬¬ä¸‰ä¸ªå‚æ•°: å¸ƒå°” é»˜è®¤false, trueè¡¨ç¤ºæ•è·é˜¶æ®µè§¦å‘, falsäº‹ä»¶å†’æ³¡é˜¶æ®µ ä¸‰ï¼šjsé˜»æ­¢äº‹ä»¶å†’æ³¡å’Œé»˜è®¤äº‹ä»¶é˜»æ­¢äº‹ä»¶å†’æ³¡:w3c:e.stopPropagationie:window.event.cancelBubble = true é»˜è®¤äº‹ä»¶ï¼šæ˜¯æŒ‡ç›®æ ‡å…ƒç´ çš„é»˜è®¤è¡Œä¸ºæ¯”å¦‚aæ ‡ç­¾ä¼šè·³è½¬é“¾æ¥ formä¼šæäº¤è¡¨å•w3c:e.preventDefault()ie:window.event.returnValue = false å¦å¤–jsä¸­çš„return falseä¹Ÿå¯ä»¥é˜»æ­¢é»˜è®¤è¡Œä¸º,jqä¸­çš„return falseæ—¢å¯ä»¥é˜»æ­¢é»˜è®¤è¡Œä¸ºä¹Ÿå¯ä»¥é˜»æ­¢å†’æ³¡ // äº‹ä»¶ç»‘å®šçš„æ–¹å¼, ç”¨return false; ä¸ä¼šé˜»æ­¢é»˜è®¤äº‹ä»¶ oBtn.addEventListener('click', function (e) { console.log('btnå¤„äºäº‹ä»¶å†’æ³¡é˜¶æ®µ - 5'); return false; }, false); // ä»¥ä¸‹ä»£ç  return false;å¯ä»¥é˜»æ­¢ oBtn.onclick = function () { return false; }; return false ? å‚è€ƒæ–‡ç«  å››ã€target å’Œ currentTargetevent.targetæŒ‡å‘å¼•èµ·è§¦å‘äº‹ä»¶çš„å…ƒç´ ï¼Œè€Œevent.currentTargetåˆ™æ˜¯äº‹ä»¶ç»‘å®šç›‘å¬çš„å…ƒç´ ã€‚ äº”ã€å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡macrotaskï¼ˆå®ä»»åŠ¡ï¼‰ï¼šä¸»ä»£ç å—ï¼ŒsetTimeoutï¼ŒsetIntervalç­‰ï¼ˆå¯ä»¥çœ‹åˆ°ï¼Œäº‹ä»¶é˜Ÿåˆ—ä¸­çš„æ¯ä¸€ä¸ªäº‹ä»¶éƒ½æ˜¯ä¸€ä¸ªmacrotaskï¼‰ microtaskï¼ˆå¾®ä»»åŠ¡ï¼‰ï¼šPromiseï¼Œprocess.nextTickç­‰","categories":[],"tags":[]},{"title":"èŠ‚æµå’Œé˜²æŠ–","slug":"èŠ‚æµå’Œé˜²æŠ–","date":"2019-12-18T07:51:00.000Z","updated":"2020-05-22T09:00:23.406Z","comments":true,"path":"jie-liu-he-fang-dou.html","link":"","permalink":"https://www.ding51.cn/jie-liu-he-fang-dou.html","excerpt":"","text":"å‡½æ•°é˜²æŠ–(debounce)å«ä¹‰: åœ¨äº‹ä»¶è¢«è§¦å‘nç§’åå†æ‰§è¡Œå›è°ƒï¼Œå¦‚æœåœ¨è¿™nç§’å†…åˆè¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ã€‚ debounce ä½¿ç”¨åœºæ™¯ searchæœç´¢è”æƒ³ï¼Œç”¨æˆ·åœ¨ä¸æ–­è¾“å…¥å€¼æ—¶ï¼Œç”¨é˜²æŠ–æ¥èŠ‚çº¦è¯·æ±‚èµ„æºã€‚ windowè§¦å‘resizeçš„æ—¶å€™ï¼Œä¸æ–­çš„è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°ä¼šä¸æ–­çš„è§¦å‘è¿™ä¸ªäº‹ä»¶ï¼Œç”¨é˜²æŠ–æ¥è®©å…¶åªè§¦å‘ä¸€æ¬¡ é¢‘ç¹æ“ä½œç‚¹èµå’Œå–æ¶ˆç‚¹èµï¼Œå› æ­¤éœ€è¦è·å–æœ€åä¸€æ¬¡æ“ä½œç»“æœå¹¶å‘é€ç»™æœåŠ¡å™¨ ä»£ç ç¤ºä¾‹: &lt;Input placeholder=\"æœç´¢\" onClick={this.debounce(this.handleSearch, 400)}/> /** * é˜²æŠ–å‡½æ•°--å¼‚æ­¥æœç´¢ */ private debounce = (fn: Function, delay: number = 500) => { let timeout = null; let _this = this; return function() { let args = arguments; clearTimeout(timeout); timeout = setTimeout(() => { fn.apply(_this, args); }, delay); }; } å‡½æ•°èŠ‚æµ(throttle)å«ä¹‰: è§„å®šåœ¨ä¸€ä¸ªå•ä½æ—¶é—´å†…ï¼Œåªèƒ½è§¦å‘ä¸€æ¬¡å‡½æ•°ã€‚å¦‚æœè¿™ä¸ªå•ä½æ—¶é—´å†…è§¦å‘å¤šæ¬¡å‡½æ•°ï¼Œåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆã€‚ throttleä½¿ç”¨åœºæ™¯ é¼ æ ‡ä¸æ–­ç‚¹å‡»è§¦å‘ï¼Œmousedown(å•ä½æ—¶é—´å†…åªè§¦å‘ä¸€æ¬¡) ç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼Œæ¯”å¦‚æ˜¯å¦æ»‘åˆ°åº•éƒ¨è‡ªåŠ¨åŠ è½½æ›´å¤šï¼Œç”¨throttleæ¥åˆ¤æ–­ ä»£ç ç¤ºä¾‹: /** * èŠ‚æµå‡½æ•° */ private throttle = (fn: Function, delay: number = 500) => { let _this = this; let isRuning = false; return function () { let args = arguments; if (isRuning) { return; } isRuning = true; setTimeout(() => { isRuning = false; fn.apply(_this, args); }, delay); }; } æ€»ç»“ï¼šå‡½æ•°é˜²æŠ–ï¼š å°†å¤šæ¬¡æ“ä½œåˆå¹¶ä¸ºä¸€æ¬¡æ“ä½œè¿›è¡Œã€‚åŸç†æ˜¯ç»´æŠ¤ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œè§„å®šåœ¨delayæ—¶é—´åè§¦å‘å‡½æ•°ï¼Œä½†æ˜¯åœ¨delayæ—¶é—´å†…å†æ¬¡è§¦å‘çš„è¯ï¼Œå°±ä¼šå–æ¶ˆä¹‹å‰çš„è®¡æ—¶å™¨è€Œé‡æ–°è®¾ç½®ã€‚è¿™æ ·ä¸€æ¥ï¼Œåªæœ‰æœ€åä¸€æ¬¡æ“ä½œèƒ½è¢«è§¦å‘ã€‚ å‡½æ•°èŠ‚æµï¼š ä½¿å¾—ä¸€å®šæ—¶é—´å†…åªè§¦å‘ä¸€æ¬¡å‡½æ•°ã€‚åŸç†æ˜¯é€šè¿‡åˆ¤æ–­æ˜¯å¦æœ‰å»¶è¿Ÿè°ƒç”¨å‡½æ•°æœªæ‰§è¡Œ","categories":[{"name":"js","slug":"js","permalink":"https://www.ding51.cn/categories/js/"}],"tags":[{"name":"js","slug":"js","permalink":"https://www.ding51.cn/tags/js/"},{"name":"é˜²æŠ–","slug":"é˜²æŠ–","permalink":"https://www.ding51.cn/tags/é˜²æŠ–/"},{"name":"èŠ‚æµ","slug":"èŠ‚æµ","permalink":"https://www.ding51.cn/tags/èŠ‚æµ/"}]},{"title":"å°ç¨‹åºweb-viewä¸­ä½¿ç”¨JSSDK,ioså®‰å“è¸©å‘","slug":"web-view-reactä¸­JSSDK","date":"2019-12-17T10:41:00.000Z","updated":"2020-05-22T09:00:23.406Z","comments":true,"path":"web-view-react-zhong-jssdk.html","link":"","permalink":"https://www.ding51.cn/web-view-react-zhong-jssdk.html","excerpt":"","text":"èƒŒæ™¯: åœ¨å°ç¨‹åºä¸­ä½¿ç”¨web-viewä½¿ç”¨react,éœ€è¦è°ƒç”¨ç›¸å…³JSSDKçš„æ¥å£é…ç½®, IOSèƒ½æ­£å¸¸ä½¿ç”¨,å®‰å“å´ç­¾åé”™è¯¯invalid signatureåŸºç¡€é…ç½®æŒ‰ç…§å®˜æ–¹æ–‡æ¡£æ¥, è¿™é‡Œè¯´æ˜ä¸‹é…ç½®æ³¨æ„äº‹é¡¹: å¼•å…¥å¾®ä¿¡jssdkï¼Œwx.configæ‰€ç”¨åˆ°çš„å·¥å…·å‡½æ•°ï¼Œappid è¦ä½¿ç”¨å…¬ä¼—å·çš„APPIDï¼Œå¦‚æœAPPIDä½¿ç”¨çš„æ˜¯å°ç¨‹åºçš„APPIDï¼Œconfigæ—¶ä¼šæŠ¥ç­¾åæ— æ•ˆï¼Œè¦æ³¨æ„configç­¾åå‚æ•°çš„å¤§å°å†™ åœ¨å…¬ä¼—å·é‡Œé¢é…ç½®,jså®‰å…¨åŸŸåé…ç½®æˆweb-viewçš„åŸŸå ä»¥ä¸Šé…ç½®æˆåŠŸå, åœ¨IOSä¸­ä½¿ç”¨éƒ½èƒ½æ­£å¸¸ä½¿ç”¨, å´åœ¨å®‰å“æœºå™¨ä¸Šä½¿ç”¨ç­¾åå¤±è´¥invalid signature, ç¡¬æ˜¯æ²¡åœ¨ç½‘ä¸Šæ‰¾åˆ°ç›¸å…³è§£å†³æ–¹æ¡ˆ, å¾ˆå¤šéƒ½æ˜¯å®‰å“ä½¿ç”¨æ­£å¸¸, IOSä½¿ç”¨å¼‚å¸¸. ç…ç†¬ä¸¤å¤©ç»¼åˆäº†å…¶ä»–é—®é¢˜,ç»è¿‡å°è¯•ç»ˆäºé€šäº†,è®°å½•ä¸€ä¸‹è§£å†³æ–¹æ¡ˆ, å¸Œæœ›å¸®åŠ©é‡åˆ°åŒæ ·é—®é¢˜çš„äºº &lt;script type=\"text/javascript\" src=\"https://res.wx.qq.com/open/js/jweixin-1.3.2.js\">&lt;/script> &lt;script> // web-viewè¿›å…¥reactçš„ç¬¬ä¸€æ—¶é—´, index.htmlæ—¶è®°å½•url if (typeof window.entryUrl === 'undefined' || window.entryUrl === '') { window.entryUrl = location.href.split('#')[0]; } &lt;/script> // å‘é€ç»™åç«¯ç­¾åæ—¶ è¿™é‡Œå°±éœ€è¦åŒºåˆ†äº†!! let isAnd = /(Android)/i.test(navigator.userAgent); //å®‰å“ç»ˆç«¯ let url = isAnd ? encodeURIComponent(window['entryUrl']) : encodeURIComponent(location.href.split('/?')[0]); åˆ†æ: æˆ‘è¿™é‡Œè¿›å…¥web-viewçš„åœ°å€æ˜¯https://dev.xxx.com?openId=xxx&amp;token=xxxx ç„¶åè¿›å…¥é»˜è®¤è·¯ç”±é¡µé¢urlå·²ç»å˜æˆhttps://dev.xxx.com/workbench?appkey=xxx SPA çš„routerè·¯ç”±æœºåˆ¶,åœ¨å®‰å“å’Œiosçš„ä¸åŒ, jssdk urlç­¾åçš„iosåªè®¤ç¬¬ä¸€æ¬¡çš„è·¯ç”±ï¼Œæˆ‘åªéœ€è¦ä¼ ç¬¬ä¸€æ¬¡è·¯ç”±ç»™åç«¯å°±è¡Œ","categories":[{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"https://www.ding51.cn/categories/å°ç¨‹åº/"}],"tags":[{"name":"JSSDK","slug":"JSSDK","permalink":"https://www.ding51.cn/tags/JSSDK/"},{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"https://www.ding51.cn/tags/å°ç¨‹åº/"}]},{"title":"gitå¸¸ç”¨çš„æŒ‡ä»¤","slug":"gitå¸¸ç”¨åˆ°çš„æŒ‡ä»¤","date":"2019-03-27T18:44:00.000Z","updated":"2021-03-01T09:29:41.959Z","comments":true,"path":"git-chang-yong-dao-de-zhi-ling.html","link":"","permalink":"https://www.ding51.cn/git-chang-yong-dao-de-zhi-ling.html","excerpt":"","text":"å¼€å‘æ—¶å¸¸ç”¨çš„æŒ‡ä»¤1. githubé…ç½® ssh keyé…ç½®cd ~/.ssh æŸ¥çœ‹æ˜¯å¦æœ‰id_rsaã€id_rsa.pubæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰éœ€è¦æ‰‹åŠ¨ç”Ÿæˆã€‚ ssh-keygen -t rsa -C &quot;youremail@example.com&quot; ä¸€è·¯å›è½¦.ç™»å½•githubã€‚æ‰“å¼€setting-&gt;SSH keysï¼Œç‚¹å‡»å³ä¸Šè§’ New SSH keyï¼ŒæŠŠç”Ÿæˆå¥½çš„å…¬é’¥id_rsa.pubæ”¾è¿› keyè¾“å…¥æ¡†ä¸­ 2. gitå¸¸ç”¨å‘½ä»¤git branch -a //æ˜¾ç¤ºåˆ†æ”¯ä¸€è§ˆè¡¨ï¼ŒåŒæ—¶ç¡®è®¤å½“å‰æ‰€åœ¨çš„åˆ†æ”¯git checkout -b aaa //åˆ›å»ºåä¸ºaaaçš„åˆ†æ”¯ï¼Œå¹¶ä¸”åˆ‡æ¢åˆ°aaaåˆ†æ”¯ //åˆ›å»ºåä¸ºaaaçš„åˆ†æ”¯git checkout aaa // åˆ‡æ¢åˆ°aaaåˆ†æ”¯git checkout - //åˆ‡æ¢åˆ°ä¸Šä¸€åˆ†æ”¯ æœ¬åœ°ä»£ç ä¿®æ”¹äº†ï¼Œéœ€è¦æäº¤åˆ°å¦å¤–ä¸€ä¸ªæœªå»ºæ–°åˆ†æ”¯git checkout -b newBranch // ç›´æ¥åœ¨æœ¬åœ°æ–°å»ºgit push origin newBranch // add&amp;&amp;commitåï¼Œç›´æ¥æ¨é€è¯¥åˆ†æ”¯ åŒæ­¥è¿œç¨‹åˆ†æ”¯åˆ—è¡¨ï¼ˆå¦‚ï¼šæœ¬åœ°ç¼ºå°‘åˆ†æ”¯ï¼Œè¿œç¨‹ä¸Šæœ‰æ–°åˆ†æ”¯æ·»åŠ â€™updateBranchâ€™ï¼‰git branch -a // æŸ¥çœ‹æœ¬åœ°å’Œè¿œç¨‹çš„åˆ†æ”¯git remote update origin --prune // æ›´æ–°æœ¬åœ°åˆ†æ”¯åˆ—è¡¨ã€‚git checkout updateBranch // ç›´æ¥åˆ‡æ¢åˆ°è¯¥æ–°åˆ†æ”¯updateBranch ä¸å°å¿ƒcommitäº†ä¸€ä¸ªä¸åº”è¯¥commitçš„ä¿®æ”¹ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰pushï¼Œæƒ³å›æ»šé‚£ä¸ªcommit.å‘½ä»¤ï¼šgit log // æŸ¥çœ‹æäº¤æ—¥å¿— å¤åˆ¶ä¸‹commit_idgit reset --hard commit_id // å›æ»š æŸ¥çœ‹æ›´æ”¹çš„è®°å½•(åé¢å¯ä»¥åŠ å…·ä½“çš„æ–‡ä»¶å)git diff åˆå¹¶æœ¬åœ° åˆ†æ”¯ä»£ç git merge test // testä¸ºåˆå¹¶è¿›æ¥çš„åˆ†æ”¯ è¿œç¨‹ä»“åº“æŸ¥çœ‹git remote -v æ·»åŠ è¿œç¨‹ä»“åº“git remote add upstream https://github.com/xxxxx/kts-portal.git é‡ç½®è¿œç¨‹ä»“åº“è·¯å¾„git remote set-url upstream https://github.com/xxxxxx/SpringBoot.git æ›´æ–°è¿œç¨‹åˆ†æ”¯åˆ—è¡¨git remote update origin --prunegit remote update origin -p æ‹‰å–è¿œç¨‹æŸä¸ªåˆ†æ”¯git pull upstream dev 3. commit æäº¤ç±»å‹è§„èŒƒç”¨äºè¯´æ˜ commit çš„ç±»åˆ«ï¼Œåªå…è®¸ä½¿ç”¨ä¸‹é¢7ä¸ªæ ‡è¯†ã€‚ featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰ fixï¼šä¿®è¡¥bug docsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰ styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰ refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰ testï¼šå¢åŠ æµ‹è¯• choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ 4. tag ä½¿ç”¨æˆ‘ä»¬å¸¸å¸¸åœ¨ä»£ç å°æ¿æ—¶,ä½¿ç”¨git åˆ›å»ºä¸€ä¸ªtag ,è¿™æ ·ä¸€ä¸ªä¸å¯ä¿®æ”¹çš„å†å²ä»£ç ç‰ˆæœ¬å°±åƒè¢«æˆ‘ä»¬å°å­˜èµ·æ¥ä¸€æ ·,ä¸è®ºæ˜¯è¿ç»´å‘å¸ƒæ‹‰å–,æˆ–è€…ä»¥åçš„ä»£ç ç‰ˆæœ¬ç®¡ç†,éƒ½æ˜¯ååˆ†æ–¹ä¾¿çš„ã€‚ åˆ›å»ºtag git tag &lt;name&gt;$ git tag v1.0 -m&quot;å¤‡æ³¨&quot; // é»˜è®¤æœ€è¿‘ä¸€æ¬¡æäº¤çš„commit $ git tag v1.0 &lt;commitID&gt; -m&quot;å¤‡æ³¨&quot; // æäº¤è¿‡çš„å†å² æ‰“tagï¼Œæ‰¾å‡ºå¯¹åº”çš„commit id æŸ¥çœ‹tag git tag æäº¤ $ git push origin --tags tagè¦†ç›–$ git tag -d V1.0 $ git push origin --tags","categories":[{"name":"git","slug":"git","permalink":"https://www.ding51.cn/categories/git/"}],"tags":[{"name":"git","slug":"git","permalink":"https://www.ding51.cn/tags/git/"}]},{"title":"å¯¹æ•°ç»„ä¸­çš„æŸå¯¹è±¡æ’åº","slug":"æ•°ç»„ä¸­çš„æŸå¯¹è±¡æ’åº","date":"2019-03-25T15:45:00.000Z","updated":"2020-05-22T09:00:23.406Z","comments":true,"path":"shu-zu-zhong-de-mou-dui-xiang-pai-xu.html","link":"","permalink":"https://www.ding51.cn/shu-zu-zhong-de-mou-dui-xiang-pai-xu.html","excerpt":"","text":"åˆ©ç”¨sortæ–¹æ³•æ’åºä¾‹å­: å¯¹ä¸€ç»„æ•°ç»„ä¸­çš„å¹´é¾„æ’åº. var arr = [ {name:'zopp',age:0}, {name:'gpp',age:18}, {name:'yjj',age:8} ]; // é™åº function compare(name){ return function(a,b){ return a[name] - b[name]; } } // æ‰“ä¹±æ•°ç»„é¡ºåº function disrupt(name){ return function(a,b){ return Math.random() > 0.5 ? -1 : 1; } } console.log(arr.sort(compare('age'))) ç»“æœ,: [ {name:&#39;zopp&#39;,age:0}, {name:&#39;yjj&#39;,age:8} {name:&#39;gpp&#39;,age:18}, ];","categories":[{"name":"js","slug":"js","permalink":"https://www.ding51.cn/categories/js/"}],"tags":[{"name":"æ’åº","slug":"æ’åº","permalink":"https://www.ding51.cn/tags/æ’åº/"}]},{"title":"nodeç‰ˆæœ¬å‡çº§ç®¡ç†","slug":"odeç‰ˆæœ¬å‡çº§ç®¡ç†","date":"2019-03-24T14:38:00.000Z","updated":"2020-05-22T09:00:23.405Z","comments":true,"path":"ode-ban-ben-sheng-ji-guan-li.html","link":"","permalink":"https://www.ding51.cn/ode-ban-ben-sheng-ji-guan-li.html","excerpt":"","text":"å‡çº§æˆ–é™çº§node,ç½‘ä¸Šæ‰¾äº†ä¸€å¤§å †çš„èµ„æ–™,çœ‹ç€å¤´çš®å‘éº»,åªéœ€ä¸¤è¡Œä»£ç çš„äº‹æƒ… 1. sudo npm install -g n // å®‰è£… 2. sudo n v9.10.0 // å‡çº§åˆ°æŸä¸ªç‰ˆæœ¬ å¦‚:v9.10.0 3. sudo n stable // å‡çº§åˆ°æœ€ç¨³å½“ç‰ˆæœ¬","categories":[{"name":"node","slug":"node","permalink":"https://www.ding51.cn/categories/node/"}],"tags":[{"name":"node","slug":"node","permalink":"https://www.ding51.cn/tags/node/"}]},{"title":"å¦‚ä½•åˆ›å»ºå‘å¸ƒNPMåŒ…?","slug":"åˆ›å»ºå‘å¸ƒNPMåŒ…","date":"2019-01-29T23:59:00.000Z","updated":"2020-05-22T09:00:23.406Z","comments":true,"path":"chuang-jian-fa-bu-npm-bao.html","link":"","permalink":"https://www.ding51.cn/chuang-jian-fa-bu-npm-bao.html","excerpt":"","text":"å‰è¨€: å¹³æ—¶æˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨çš„åˆ«äººå†™å¥½çš„npmåŒ…, npm i xxx ,å°±ç›´æ¥å®‰è£…å¥½äº†ä½¿ç”¨,æœ¬æ–‡ç« ä»‹ç»çš„æ˜¯å¦‚ä½•åˆ›å»ºè‡ªå·±çš„å°è£…å¥½çš„npmåŒ…å‘å¸ƒã€‚ npmå®˜ç½‘åˆ›å»ºnpmè´¦æˆ·npmç½‘ç«™åœ°å€ï¼šhttps://www.npmjs.com/ å‘½ä»¤è¡Œå·¥å…·ç™»å½•npm npm login éªŒè¯ç™»å½•æ˜¯å¦æˆåŠŸ npm who am iå¦‚æœæˆåŠŸä¼šè¾“å…¥ä½ npmä¸ªäººä¿¡æ¯ å†…é•œæ£€æµ‹: npm config get registry å¦‚æœè¾“å‡º http://registry.npmjs.orgå°±é…ç½®æ­£ç¡®, å¦åˆ™è¦è®¾ç½®é•œåƒnpm config set registry http://registry.npmjs.org åˆ›å»ºnpmåº“npm initæ¥ä¸‹æ¥å°±æ˜¯ä¸€é•¿ä¸²è¡¨å•ï¼š nameï¼šå¡«å†™ä½ è¿™ä¸ªåŒ…çš„åå­—ï¼Œé»˜è®¤æ˜¯ä½ è¿™ä¸ªæ–‡ä»¶å¤¹çš„åå­—ã€‚ä¸è¿‡è¿™é‡Œè¦ç€é‡è¯´ä¸€ä¸‹ï¼Œæœ€å¥½å…ˆå»npmä¸Šæ‰¾ä¸€ä¸‹æœ‰æ²¡æœ‰åŒåçš„åŒ…ã€‚æœ€å¥½çš„æµ‹è¯•æ–¹å¼å°±æ˜¯ï¼Œåœ¨å‘½ä»¤è¡Œé‡Œé¢è¾“å…¥npm install ä½ è¦å–çš„åå­—ï¼Œå¦‚æœæŠ¥é”™ï¼Œé‚£ä¹ˆå¾ˆå¥½ï¼Œnpmä¸Šæ²¡æœ‰è·Ÿä½ åŒåçš„åŒ…ï¼Œä½ å¯ä»¥æ”¾å¿ƒå¤§èƒ†åœ°æŠŠåŒ…å‘å¸ƒå‡ºå»ã€‚å¦‚æœæˆåŠŸä¸‹è½½ä¸‹æ¥äº†ã€‚ã€‚ã€‚é‚£ä¹ˆå¾ˆä¸å¹¸ï¼Œæ”¹åå­—å§ã€‚ã€‚ã€‚ versionï¼šä½ è¿™ä¸ªåŒ…çš„ç‰ˆæœ¬ï¼Œé»˜è®¤æ˜¯1.0.0 descriptionï¼šå…¶å®æˆ‘ä¹Ÿä¸çŸ¥é“æ˜¯ä»€ä¹ˆï¼ŒæŒ‰å›è½¦å°±å¥½äº†ã€‚ã€‚ã€‚ï¼Œè¿™ä¸ªç”¨ä¸€å¥è¯æè¿°ä½ çš„åŒ…æ˜¯å¹²å˜›ç”¨çš„ï¼Œæ¯”å¦‚æˆ‘å°±ç›´æ¥ï¼šâ€˜a plugin for express.register routes base on file pathâ€™ entry pointï¼šå…¥å£æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯Index.jsï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±å¡«å†™ä½ è‡ªå·±çš„æ–‡ä»¶å test commandï¼šæµ‹è¯•å‘½ä»¤ï¼Œè¿™ä¸ªç›´æ¥å›è½¦å°±å¥½äº†ï¼Œå› ä¸ºç›®å‰è¿˜ä¸éœ€è¦è¿™ä¸ªã€‚ git repositoryï¼šè¿™ä¸ªæ˜¯gitä»“åº“åœ°å€ï¼Œå¦‚æœä½ çš„åŒ…æ˜¯å…ˆæ”¾åˆ°githubä¸Šæˆ–è€…å…¶ä»–gitä»“åº“é‡Œï¼Œè¿™æ—¶å€™ä½ çš„æ–‡ä»¶å¤¹é‡Œé¢ä¼šå­˜åœ¨ä¸€ä¸ªéšè—çš„.gitç›®å½•ï¼Œnpmä¼šè¯»åˆ°è¿™ä¸ªç›®å½•ä½œä¸ºè¿™ä¸€é¡¹çš„é»˜è®¤å€¼ã€‚å¦‚æœæ²¡æœ‰çš„è¯ï¼Œç›´æ¥å›è½¦ç»§ç»­ã€‚ keywordï¼šè¿™ä¸ªæ˜¯ä¸€ä¸ªé‡ç‚¹ï¼Œè¿™ä¸ªå…³ç³»åˆ°æœ‰å¤šå°‘äººä¼šæœåˆ°ä½ çš„npmåŒ…ã€‚å°½é‡ä½¿ç”¨è´´åˆ‡çš„å…³é”®å­—ä½œä¸ºè¿™ä¸ªåŒ…çš„ç´¢å¼•ã€‚æˆ‘è¿™ä¸ªåŒ…å˜›ï¼Œç¬¬ä¸€æ˜¯åœ¨expressä¸‹å·¥ä½œçš„ï¼Œç„¶ååˆæ˜¯ä¸€ä¸ªæ’ä»¶pluginï¼Œç„¶ååˆæ˜¯ä¸€ä¸ªæ³¨å†Œè·¯ç”±routeç”¨çš„ï¼Œè€Œè¿™ä¸ªè·¯ç”±åˆæ˜¯åŸºäºæ–‡ä»¶ç›®å½•dirï¼Œæ‰€ä»¥å¾ˆå¥½å°±å¾—å‡ºæˆ‘çš„åŒ…çš„ç´¢å¼•å…³é”®å­—ã€‚ authorï¼šå†™ä½ çš„è´¦å·æˆ–è€…ä½ çš„githubè´¦å·å§ licenseï¼šè¿™ä¸ªç›´æ¥å›è½¦ï¼Œå¼€æºæ–‡ä»¶æ¥ç€ã€‚ã€‚ã€‚ç„¶åå®ƒå°±ä¼šé—®ä½ Are you ok? ç›´æ¥å›è½¦æœ€åç”Ÿæˆpackage.json åŒçº§ç›®å½•ä¸‹æ–°å»ºindex.jså¹¶ç¼–å†™å†…å®¹ exports.sayHello=function(){ return \"Hello.\"; }; å‘å¸ƒnpmåŒ… npm publishå‘å¸ƒå®Œæˆä¼šæç¤º éªŒè¯æ˜¯å¦å‘å¸ƒæˆåŠŸ npm install xxxåŒ… æ›´æ–°ç‰ˆæœ¬npm version &lt;update_type&gt; -m &quot;&lt;message&gt;&quot;å…¶ä¸­update_type æœ‰ä¸‰ç§ï¼špatchå¢åŠ ä¸€ä½è¡¥ä¸å·ï¼ˆæ¯”å¦‚ 1.1.1 -&gt; 1.1.2ï¼‰minorå¢åŠ ä¸€ä½å°ç‰ˆæœ¬å·ï¼ˆæ¯”å¦‚ 1.1.1 -&gt; 1.2.0ï¼‰majorå¢åŠ ä¸€ä½å¤§ç‰ˆæœ¬å·ï¼ˆæ¯”å¦‚ 1.1.1 -&gt; 2.0.0ï¼‰æ¯”å¦‚ï¼šnpm version patch -m &quot;Version %s - v1.0.2&quot;æœ€åæäº¤æ›´æ–°çš„ç‰ˆæœ¬ï¼šnpm publish æ’¤é”€è‡ªå·±å‘å¸ƒçš„ç‰ˆæœ¬ã€‚è¿™åªæ˜¯ä¸€ä¸ªæµ‹è¯•çš„åŒ…ï¼Œæœ€å¥½å½“ç„¶è¿˜æ˜¯æ’¤é”€ä¸‹æ¥npm --force unpublish test_npm æ³¨: åˆ é™¤è¦ç”¨forceå¼ºåˆ¶åˆ é™¤ã€‚è¶…è¿‡24å°æ—¶å°±ä¸èƒ½åˆ é™¤äº†","categories":[{"name":"npm","slug":"npm","permalink":"https://www.ding51.cn/categories/npm/"}],"tags":[{"name":"åˆ›å»ºnpmåŒ…","slug":"åˆ›å»ºnpmåŒ…","permalink":"https://www.ding51.cn/tags/åˆ›å»ºnpmåŒ…/"}]},{"title":"JSå¦‚ä½•ä¼˜é›…çš„å†™åˆ¤æ–­è¯­å¥(äºŒ)","slug":"JSå¦‚ä½•ä¼˜é›…çš„å†™åˆ¤æ–­è¯­å¥-äºŒ","date":"2019-01-20T20:01:00.000Z","updated":"2020-05-22T09:00:23.404Z","comments":true,"path":"js-ru-he-you-ya-de-xie-pan-duan-yu-ju-er.html","link":"","permalink":"https://www.ding51.cn/js-ru-he-you-ya-de-xie-pan-duan-yu-ju-er.html","excerpt":"","text":"1.å¤šé‡åˆ¤æ–­æ—¶ä½¿ç”¨ Array.includes2.æ›´å°‘çš„åµŒå¥—ï¼Œå°½æ—© return3.ä½¿ç”¨é»˜è®¤å‚æ•°å’Œè§£æ„4.å€¾å‘äºéå†å¯¹è±¡è€Œä¸æ˜¯ Switch è¯­å¥5.å¯¹ æ‰€æœ‰/éƒ¨åˆ† åˆ¤æ–­ä½¿ç”¨ Array.every &amp; Array.some 1.å¤šé‡åˆ¤æ–­æ—¶ä½¿ç”¨ Array.includesä¾‹å­: function test(fruit) { if (fruit == 'apple' || fruit == 'strawberry') { console.log('red'); } } ç”¨ Array.includes (Array.includes)é‡å†™æ¡ä»¶è¯­å¥ function test(fruit) { const redFruits = ['apple', 'strawberry', 'cherry', 'cranberries']; if (redFruits.includes(fruit)) { console.log('red'); } } æŠŠæ¡ä»¶æ”¾å…¥æ•°ç»„,åˆ©ç”¨includesåˆ¤æ–­,è¿™æ ·ä¸€æ¥ï¼Œä»£ç çœ‹èµ·æ¥æ›´æ•´æ´ 2.æ›´å°‘çš„åµŒå¥—ï¼Œå°½æ—© Returnä¾‹å­: function test(fruit, quantity) { const redFruits = ['apple', 'strawberry', 'cherry', 'cranberries']; // æ¡ä»¶ 1: fruit å¿…é¡»æœ‰å€¼ if (fruit) { // æ¡ä»¶ 2: å¿…é¡»æ˜¯redçš„ if (redFruits.includes(fruit)) { console.log('red'); // æ¡ä»¶ 3: quantityå¤§äº10 if (quantity > 10) { console.log('big quantity'); } } } else { throw new Error('No fruit!'); } } // æµ‹è¯•ç»“æœ test(null); // error: No fruits test('apple'); // print: red test('apple', 20); // print: red, big quantity å½“å‘ç°æ— æ•ˆè¯­å¥æ—¶ï¼Œå°½æ—©Return,å°‘åµŒå¥— function test(fruit, quantity) { const redFruits = ['apple', 'strawberry', 'cherry', 'cranberries']; // æ¡ä»¶ 1: å°½æ—©æŠ›å‡ºé”™è¯¯ if (!fruit) throw new Error('No fruit!'); // æ¡ä»¶ 2: å½“æ°´æœä¸æ˜¯çº¢è‰²æ—¶åœæ­¢ç»§ç»­æ‰§è¡Œ if (!redFruits.includes(fruit)) return; console.log('red'); // æ¡ä»¶ 3: å¿…é¡»æ˜¯å¤§è´¨é‡çš„ if (quantity > 10) { console.log('big quantity'); } } 3.ä½¿ç”¨é»˜è®¤å‚æ•°å’Œè§£æ„éœ€è¦æ£€æŸ¥ null / undefinedçš„å€¼å’ŒæŒ‡å®šé»˜è®¤å€¼,ä¾‹å­: // fruitæ˜¯ä¸€ä¸ªå¯¹è±¡{name: 'xx'} , quantityæ•°é‡è®¾ç½®é»˜è®¤å€¼ä¸º 1 function test(fruit, quantity) { // å¦‚æœ quantity å‚æ•°æ²¡æœ‰ä¼ å…¥ï¼Œè®¾ç½®é»˜è®¤å€¼ä¸º 1 const q = quantity || 1; // å½“å€¼å­˜åœ¨æ—¶æ‰“å° fruit çš„å€¼ if (fruit &amp;&amp; fruit.name){ console.log(`We have ${quantity} ${fruit.name}!`); }else { console.log('unknown'); } } ä½¿ç”¨é»˜è®¤å‚æ•°å’Œè§£æ„ ä»£æ›¿ // fruitæ˜¯ä¸€ä¸ªå¯¹è±¡{name: 'xx'} , quantityæ•°é‡ function test({name} = {}, quantity = 1) { console.log (name || 'unknown'); } 4.å€¾å‘äºå¯¹è±¡éå†è€Œä¸æ˜¯if/else Switchè¯­å¥åˆ©ç”¨å¯¹è±¡ä»£æ›¿,å¯ä»¥å‚è€ƒä¸Šä¸€ç¯‡æ–‡ç«  const fruitColor = { red: ['apple', 'strawberry'], yellow: ['banana', 'pineapple'], purple: ['grape', 'plum'] }; function test(color) { return fruitColor[color] || []; } 5.å¯¹ æ‰€æœ‰/éƒ¨åˆ† åˆ¤æ–­ä½¿ç”¨Array.every &amp; Array.somees6ä¸­every,å½“æ•°ç»„ä¸­çš„æ•°æ®å¿…é¡»æ¯ä¸ªæ»¡è¶³æ¡ä»¶è¿”å›true var computers = [ {name:\"Apple\",ram:8}, {name:\"IBM\",ram:4}, {name:\"Acer\",ram:32}, ]; computers.every(computer => computer.ram > 3) // true computers.every(computer => computer.ram > 10) // false some,å½“æ•°ç»„ä¸­åªè¦ä¸€æ¡æ•°æ®æ»¡è¶³æ¡ä»¶,å°±è¿”å›true var computers = [ {name:\"Apple\",ram:8}, {name:\"IBM\",ram:4}, {name:\"Acer\",ram:32}, ]; computers.some(computer => computer.ram > 8) // true computers.some(computer => computer.ram > 32) // false","categories":[],"tags":[{"name":"jsä¼˜åŒ–","slug":"jsä¼˜åŒ–","permalink":"https://www.ding51.cn/tags/jsä¼˜åŒ–/"}]},{"title":"JSå¦‚ä½•ä¼˜é›…çš„å†™åˆ¤æ–­è¯­å¥(ä¸€)","slug":"JSå¦‚ä½•ä¼˜é›…çš„å†™åˆ¤æ–­è¯­å¥","date":"2019-01-20T17:25:00.000Z","updated":"2020-05-22T09:00:23.404Z","comments":true,"path":"js-ru-he-you-ya-de-xie-pan-duan-yu-ju.html","link":"","permalink":"https://www.ding51.cn/js-ru-he-you-ya-de-xie-pan-duan-yu-ju.html","excerpt":"","text":"ä¸€.å¤æ‚åˆ¤æ–­ä¼˜é›…å†™æ³•å‰è¨€:jsä»£ç æ—¶ç»å¸¸é‡åˆ°å¤æ‚é€»è¾‘åˆ¤æ–­çš„æƒ…å†µï¼Œé€šå¸¸å¤§å®¶å¯ä»¥ç”¨if/elseæˆ–è€…switchæ¥å®ç°å¤šä¸ªæ¡ä»¶åˆ¤æ–­ï¼Œä½†è¿™æ ·ä¼šæœ‰ä¸ªé—®é¢˜ï¼Œéšç€é€»è¾‘å¤æ‚åº¦çš„å¢åŠ ï¼Œä»£ç ä¸­çš„if/else/switchä¼šå˜å¾—è¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œè¶Šæ¥è¶Šçœ‹ä¸æ‡‚ã€‚ 1.1 ä¸€å…ƒæ¡ä»¶åˆ¤æ–­ä¸€èˆ¬çš„å†™æ³• if/else æˆ–è€… switch/** * @param {number} status æ´»åŠ¨çŠ¶æ€ï¼š1 å¼€å›¢è¿›è¡Œ 2 å¼€å›¢å¤±è´¥ 3 å•†å“å”®ç½„ 4 å¼€å›¢æˆåŠŸ 5 ç³»ç»Ÿå–æ¶ˆ */ const onButtonClick = (status) =>{ if (status === 1) { sendLog('processing') jumpTo('IndexPage') } else if (status === 2) { sendLog('fail') jumpTo('FailPage') } else if (status === 3) { sendLog('fail') jumpTo('FailPage') } else if (status === 4) { sendLog('success') jumpTo('SuccessPage') } else if (status === 5) { sendLog('cancel') jumpTo('CancelPage') } else { sendLog('other') jumpTo('Index') } } ä¼˜åŒ–æ–¹æ³•ä¸€,å°†åˆ¤æ–­æ¡ä»¶ä½œä¸ºå¯¹è±¡çš„å±æ€§åï¼Œå°†å¤„ç†é€»è¾‘ä½œä¸ºå¯¹è±¡çš„å±æ€§å€¼ const actions = { '1': ['processing', 'IndexPage'], '2': ['fail', 'FailPage'], '3': ['fail', 'FailPage'], '4': ['success', 'SuccessPage'], '5': ['cancel', 'CancelPage'], 'default': ['other', 'Index'], } const onButtonClick = (status) = >{ let action = actions[status] || actions['default'], let logName = action[0], let pageName = action[1]; sendLog(logName); jumpTo(pageName); } ä¼˜åŒ–æ–¹æ³•äºŒ,es6é‡Œçš„Mapå¯¹è±¡ const actions = new Map([ [1, ['processing', 'IndexPage']], [2, ['fail', 'FailPage']], [3, ['fail', 'FailPage']], [4, ['success', 'SuccessPage']], [5, ['cancel', 'CancelPage']], ['default', ['other', 'Index']]]) const onButtonClick = (status) => { let action=actions.get(status)||actions.get('default'); sendLog(action[0]); jumpTo(action[1]); } 1.2 å¤šæ¡ä»¶åŒæ—¶åˆ¤æ–­å¤šæ¡ä»¶æ™®é€šå†™æ³• if/elseconst onButtonClick = (status, identity) => { if (identity == 'guest') { if (status == 1) { } else if (status == 2) { } else if (status == 3) { } else if (status == 4) { } else if (status == 5) { } else {} } else if (identity == 'master') { if (status == 1) { } else if (status == 2) { } else if (status == 3) { } else if (status == 4) { } else if (status == 5) { } else {} } } ä¼˜åŒ–å†™æ³•ä¸€: åˆ©ç”¨å¯¹è±¡object æˆ–è€… map // åˆ©ç”¨objectå¯¹è±¡ å­—ç¬¦ä¸²æ‹¼æ¥ const actions = { 'guest_1': () = >{}, 'guest_2': () = >{}, //.... } const onButtonClick = (identity, status) => { let action = actions[`$ {identity}_${status}`] || actions['default']; action.call(this); } // åˆ©ç”¨mapå¯¹è±¡ å­—ç¬¦ä¸²æ‹¼æ¥ const actions=new Map([ ['guest_1',()=>{}], ['guest_2',()=>{}], ['master_1',()=>{}], ['master_2',()=>{}], ['default',()=>{}], ]); const onButtonClick = (identity, status) => { let action = actions.get(`$ {identity}_${status}`) || actions.get('default'); action.call(this); } ä¸æ‹¼æ¥ä¼˜åŒ–æ–¹æ³•äºŒ: ç”¨Mapå¯¹è±¡ï¼Œä»¥Objectå¯¹è±¡ä½œä¸ºkey const actions = new Map([ [{identity: 'guest',status: 1},() = >{}], [{identity: 'guest', status: 2}, () = >{}], ]) const onButtonClick = (identity, status) => { let action = [...actions].filter(([key, value]) =>(key.identity == identity &amp;&amp; key.status == status)); action.forEach(([key, value]) = >value.call(this)); } æ³¨æ„: ä¸èƒ½ç›´æ¥actions.get({identity: &#39;guest&#39;,status: 1}).call(this)è°ƒç”¨ ä¼šæŠ¥é”™,å› ä¸º{identity: â€˜guestâ€™,status: 1},å’Œmapä¸­å®šä¹‰çš„ä¸æ˜¯æŒ‡çš„åŒä¸€ä¸ªå¯¹è±¡åœ°å€","categories":[],"tags":[{"name":"jsä¼˜åŒ–","slug":"jsä¼˜åŒ–","permalink":"https://www.ding51.cn/tags/jsä¼˜åŒ–/"},{"name":"mapå¯¹è±¡","slug":"mapå¯¹è±¡","permalink":"https://www.ding51.cn/tags/mapå¯¹è±¡/"}]},{"title":"inputåªèƒ½è¾“å…¥æ•°å­—å¹¶é™åˆ¶é•¿åº¦","slug":"inputåªèƒ½è¾“å…¥æ•°å­—å¹¶é™åˆ¶é•¿åº¦","date":"2018-12-26T14:01:00.000Z","updated":"2020-05-22T09:00:23.405Z","comments":true,"path":"input-zhi-neng-shu-ru-shu-zi-bing-xian-zhi-chang-du.html","link":"","permalink":"https://www.ding51.cn/input-zhi-neng-shu-ru-shu-zi-bing-xian-zhi-chang-du.html","excerpt":"","text":"éšç¬”è®°å½•æƒ…æ™¯:è¦æ±‚åªèƒ½è¾“å…¥æ•°å­—,ä¸”é™åˆ¶é•¿åº¦,åœ¨è°·æ­Œæµè§ˆå™¨ç§»é™¤input[number]çš„ä¸Šä¸‹ç®­å¤´æ ·å¼ &lt;input type=&quot;text&quot; maxlength=&quot;5&quot; /&gt; æ•ˆæœokï¼Œå½“ &lt;input type=&quot;number&quot; maxlength=&quot;5&quot; /&gt;æ—¶maxlengthå¤±æ•ˆï¼Œé•¿åº¦å¯ä»¥æ— é™è¾“å…¥ è§£å†³å‚è€ƒä»£ç : &lt;style> /*åœ¨chromeä¸‹ç§»é™¤input[number]çš„ä¸Šä¸‹ç®­å¤´*/ input::-webkit-outer-spin-button, input::-webkit-inner-spin-button{ -webkit-appearance: none !important; margin: 0; } /*åœ¨firefoxä¸‹ç§»é™¤input[number]çš„ä¸Šä¸‹ç®­å¤´*/ input[type=\"number\"]{-moz-appearance:textfield;} &lt;style> &lt;input type=\"number\" oninput=\"if(value.length>5)value=value.slice(0,5)\">","categories":[{"name":"html5","slug":"html5","permalink":"https://www.ding51.cn/categories/html5/"}],"tags":[{"name":"htm5","slug":"htm5","permalink":"https://www.ding51.cn/tags/htm5/"},{"name":"css","slug":"css","permalink":"https://www.ding51.cn/tags/css/"}]},{"title":"&& || è¿ç®—","slug":"è¿ç®—","date":"2018-12-26T03:39:00.000Z","updated":"2021-02-18T06:28:17.251Z","comments":true,"path":"yun-suan.html","link":"","permalink":"https://www.ding51.cn/yun-suan.html","excerpt":"","text":"1; // true \"0\" // true 0; // false false; // false true; // true \"string\"; // true \"\" // false null // false NaN // false 1.&amp;&amp; Booleanåˆ¤æ–­ï¼Œé‡åˆ°å‡çš„å€¼ï¼Œè¿”å›è¯¥å‡å€¼ï¼Œåœæ­¢åé¢åˆ¤æ–­ã€‚ å…¨ä¸ºçœŸçš„å€¼ï¼Œè¿”å›æœ€åä¸€ä¸ªå€¼ã€‚ è¿”å›ç¬¬ä¸€ä¸ªé‡åˆ°çš„å‡å€¼ã€‚æ²¡æœ‰å‡å€¼ï¼Œè¿”å›æœ€åä¸€ä¸ªçœŸå€¼ // ä¸¾ä¾‹ 's' &amp;&amp; '0' &amp;&amp; 0 &amp;&amp; false //ç»“æœï¼š0 's','0'ä¸ºçœŸï¼Œè®¡ç®—åˆ° 0ï¼Œå€¼ä¸ºå‡ã€‚è¿”å›è¯¥å€¼ï¼Œåœæ­¢æ¯”è¾ƒ // å…¨çœŸ 's' &amp;&amp; '0' &amp;&amp; true &amp;&amp; '123' // 123 2.|| Booleanåˆ¤æ–­ï¼Œè¿”å›ç¬¬ä¸€ä¸ªçœŸçš„å€¼ï¼Œåœæ­¢åé¢åˆ¤æ–­ã€‚ å…¨å‡å€¼ï¼Œè¿”å›æœ€åä¸€ä¸ªå€¼ã€‚ 's' || false || '0' || true // 's' 0 || false || null || '0' || false // '0' // å…¨å‡ false || 0 || null 3.&amp;&amp;ä¼˜å…ˆçº§é«˜ï¼Œå…ˆç®—&amp;&amp; å† ||''||null||3||4&amp;&amp;5&amp;&amp;0 // å…ˆè®¡ç®— 4&amp;&amp;5&amp;&amp;0 => 0 ''||null||3||0 // é‡åˆ°ç¬¬ä¸€ä¸ªçœŸå€¼3 è¿”å› 3 //ç»“æœ","categories":[{"name":"jsåŸºç¡€","slug":"jsåŸºç¡€","permalink":"https://www.ding51.cn/categories/jsåŸºç¡€/"}],"tags":[{"name":"&&","slug":"","permalink":"https://www.ding51.cn/tags//"},{"name":"||","slug":"","permalink":"https://www.ding51.cn/tags//"},{"name":"è¿ç®—ç¬¦","slug":"è¿ç®—ç¬¦","permalink":"https://www.ding51.cn/tags/è¿ç®—ç¬¦/"}]},{"title":"Reactç”Ÿå‘½å‘¨æœŸ(v16.3 ä¹‹å‰ç‰ˆæœ¬)","slug":"Reactæ–°æ—§ç”Ÿå‘½å‘¨æœŸå¯¹æ¯”-v16-3","date":"2018-12-09T21:14:00.000Z","updated":"2020-05-22T09:00:23.405Z","comments":true,"path":"react-xin-jiu-sheng-ming-zhou-qi-dui-bi-v16-3.html","link":"","permalink":"https://www.ding51.cn/react-xin-jiu-sheng-ming-zhou-qi-dui-bi-v16-3.html","excerpt":"","text":"ç”Ÿå‘½å‘¨æœŸå¯¹reactéå¸¸é‡è¦,å¯¹å¾ˆå¤šæ–°æ‰‹æ¥è¯´,æä¸æ‡‚å“ªä¸ªé˜¶æ®µè¯¥åšä»€ä¹ˆäº‹æƒ…,è¿·èŒ«,ä¹±ç”¨å‡½æ•°,å¯¼è‡´æ€§èƒ½ä¸‹é™,æ­»å¾ªç¯. æ–‡ç« ä¸»è¦è®°å½•äº†reactå¹³æ—¶å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°,åŠå¹³æ—¶å¼€å‘é‡åˆ°çš„æ³¨æ„äº‹é¡¹,è‡ªä»react v16.3æ›´æ–°å,å…¶ç”Ÿå‘½å‘¨æœŸè¿˜æ˜¯å‘ç”Ÿå¾ˆå¤§çš„æ”¹å˜, è¿™é‡Œä»‹ç»v16.3ä¹‹å‰çš„ç‰ˆæœ¬ React ç”Ÿå‘½å‘¨æœŸä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªé˜¶æ®µï¼š1. åˆå§‹åŒ–é˜¶æ®µ2. è¿è¡Œä¸­é˜¶æ®µ3. é”€æ¯é˜¶æ®µ(æ³¨:ç»“åˆå›¾æ¥çœ‹æ–‡ç« æœ‰åŠ©ç†è§£) 1. åˆå§‹åŒ–é˜¶æ®µ1-1.è®¾ç½®ç»„ä»¶é»˜è®¤å±æ€§æ–¹æ³•ä¸€ æŒ‚è½½ç»„ä»¶çš„æ—¶å€™è®¾ç½® props(æ¯”è¾ƒå¸¸ç”¨) var data = [{title: 'Hello'}]; &lt;Hello data={data} /> æ–¹æ³•äºŒ defaultPropsåœ¨ç»„ä»¶å†…éƒ¨å®šä¹‰,æ­¤æ–¹æ³•ç¼–è¯‘æ‰ç”Ÿæ•ˆ,es6 ä¼šæŠ¥é”™,ä½¿ç”¨es7ä»¥ä¸Š(è¯¦æƒ…) static defaultProps = { age: 18 } åœ¨ç»„ä»¶å¤–éƒ¨å±æ€§å®šä¹‰ Greeting.defaultProps = { name: 'æˆ‘æ˜¯propsçš„é»˜è®¤å€¼ï¼' }; ReactDOM.render( &lt;Greeting />, document.getElementById('example') ); 1-2.ç»„ä»¶çš„åˆå§‹åŒ–çŠ¶æ€ stateconstructor(props){ super(props); // ä¸åŠ super()ï¼Œå¯¼è‡´äº†thisçš„ Reference Error this.state={}; } superå…³é”®å­—ï¼Œå®ƒæŒ‡ä»£çˆ¶ç±»çš„å®ä¾‹ï¼ˆå³çˆ¶ç±»çš„thiså¯¹è±¡ï¼‰ã€‚å­ç±»å¿…é¡»åœ¨constructoræ–¹æ³•ä¸­è°ƒç”¨superæ–¹æ³•ï¼Œå¦åˆ™æ–°å»ºå®ä¾‹æ—¶ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»æ²¡æœ‰è‡ªå·±çš„thiså¯¹è±¡ï¼Œè€Œæ˜¯ç»§æ‰¿çˆ¶ç±»çš„thiså¯¹è±¡ï¼Œç„¶åå¯¹å…¶è¿›è¡ŒåŠ å·¥ã€‚å¦‚æœä¸è°ƒç”¨superæ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ°thiså¯¹è±¡ã€‚super(props):ä¼ é€’propsä½œä¸ºsuper()çš„å‚æ•°ï¼Œé‚£å°±æ˜¯ä½ éœ€è¦åœ¨æ„é€ å‡½æ•°å†…ä½¿ç”¨this.props 1-3.componentWillMountå› ä¸ºcomponentWillMountæ˜¯åœ¨renderä¹‹å‰æ‰§è¡Œï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­setStateä¸ä¼šå‘ç”Ÿé‡æ–°æ¸²æŸ“(re-render),é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¨èç”¨constructor()æ–¹æ³•ä»£æ›¿.æç¤º: å¾ˆå¤šæ—¶å€™å–œæ¬¢è¿™é‡Œå»åšä¸€äº›åˆå§‹åŒ–æ•°æ®çš„è¯·æ±‚,ä½ ä¼šå‘ç°æ•°æ®è¿˜æ²¡è¯·æ±‚åˆ°å°±æ¸²æŸ“render()äº†,å½“è¯·æ±‚åˆ°æ•°æ®åsetStateå†æ¸²æŸ“å‡ºæ•°æ®.ä¾ç„¶é‡å¤æ¸²æŸ“. å»ºè®®åˆå§‹åŒ–æ•°æ®éƒ½åœ¨componentDidMount()ä¸­ä½¿ç”¨,æ–°ç‰ˆæœ¬å°†å»æ‰è¿™ä¸ªå‡½æ•°. 1-4.renderè¯¥æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªè™šæ‹ŸDOMï¼Œç”¨æ¥è¡¨ç¤ºç»„ä»¶çš„è¾“å‡ºã€‚å¯¹äºä¸€ä¸ªç»„ä»¶æ¥è®²ï¼Œrenderæ–¹æ³•æ˜¯å”¯ä¸€ä¸€ä¸ªå¿…éœ€çš„æ–¹æ³•ã€‚renderæ–¹æ³•éœ€è¦æ»¡è¶³ä¸‹é¢å‡ ç‚¹ï¼š åªèƒ½é€šè¿‡ this.props å’Œ this.state è®¿é—®æ•°æ®ï¼ˆä¸èƒ½ä¿®æ”¹ï¼‰ å¯ä»¥è¿”å› null,false æˆ–è€…ä»»ä½•Reactç»„ä»¶ åªèƒ½å‡ºç°ä¸€ä¸ªé¡¶çº§ç»„ä»¶ï¼Œä¸èƒ½è¿”å›ä¸€ç»„å…ƒç´  ä¸èƒ½æ”¹å˜ç»„ä»¶çš„çŠ¶æ€ ä¸èƒ½ä¿®æ”¹DOMçš„è¾“å‡ºrenderæ–¹æ³•è¿”å›çš„ç»“æœå¹¶ä¸æ˜¯çœŸæ­£çš„DOMå…ƒç´ ï¼Œè€Œæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„è¡¨ç°ï¼Œç±»ä¼¼äºä¸€ä¸ªDOM treeçš„ç»“æ„çš„å¯¹è±¡ã€‚ 1-5. componentDidMountä¸€èˆ¬æƒ…å†µåœ¨è¿™é‡Œåšåˆå§‹åŒ–å¼‚æ­¥æ•°æ®è¯·æ±‚ è¿™ä¸ªæ–¹æ³•ä¼šåœ¨render()ä¹‹åç«‹å³æ‰§è¡Œï¼› è¿™é‡Œå¯ä»¥å¯¹DOMè¿›è¡Œæ“ä½œï¼Œè¿™ä¸ªå‡½æ•°ä¹‹årefå˜æˆå®é™…çš„DOM 2. ç»„ä»¶è¿è¡Œé˜¶æ®µæ­¤æ—¶ç»„ä»¶å·²ç»æ¸²æŸ“å¥½å¹¶ä¸”ç”¨æˆ·å¯ä»¥ä¸å®ƒè¿›è¡Œäº¤äº’ï¼Œæ¯”å¦‚é¼ æ ‡ç‚¹å‡»ï¼Œæ‰‹æŒ‡ç‚¹æŒ‰ï¼Œæˆ–è€…å…¶å®ƒçš„ä¸€äº›äº‹ä»¶ï¼Œå¯¼è‡´åº”ç”¨çŠ¶æ€çš„æ”¹å˜ï¼Œä½ å°†ä¼šçœ‹åˆ°ä¸‹é¢çš„æ–¹æ³•ä¾æ¬¡è¢«è°ƒç”¨2-1.componentWillReceivePropsç»„ä»¶çš„ props å±æ€§å¯ä»¥é€šè¿‡çˆ¶ç»„ä»¶æ¥æ›´æ”¹ï¼Œè¿™æ—¶ï¼ŒcomponentWillReceiveProps å°†æ¥è¢«è°ƒç”¨ã€‚å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•é‡Œæ›´æ–° state,ä»¥è§¦å‘ render æ–¹æ³•é‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚ componentWillReceiveProps: function(nextProps){ if(nextProps.checked !== undefined){ this.setState({ checked: nextProps.checked }) } } 2-2.shouldComponentUpdate(nextProps, nextState)åœ¨æ¥æ”¶æ–°çš„propsæˆ–stateæ—¶ç¡®å®šæ˜¯å¦å‘ç”Ÿé‡æ–°æ¸²æŸ“ï¼Œé»˜è®¤æƒ…å†µè¿”å›trueï¼Œè¡¨ç¤ºä¼šå‘ç”Ÿé‡æ–°æ¸²æŸ“æ³¨æ„ è¿™ä¸ªæ–¹æ³•åœ¨é¦–æ¬¡æ¸²æŸ“æ—¶æˆ–è€…forceUpdate()æ—¶ä¸ä¼šè§¦å‘; è¿™ä¸ªæ–¹æ³•å¦‚æœè¿”å›false, é‚£ä¹ˆpropsæˆ–stateå‘ç”Ÿæ”¹å˜çš„æ—¶å€™ä¼šé˜»æ­¢å­ç»„ä»¶å‘ç”Ÿé‡æ–°æ¸²æŸ“; ç›®å‰ï¼Œå¦‚æœè¿”å›false, é‚£ä¹ˆcomponentWillUpdate(nextProps, nextState), render(), componentDidUpdate()éƒ½ä¸ä¼šè¢«è§¦å‘; 2-3.componentWillUpdateåœ¨propsæˆ–stateå‘ç”Ÿæ”¹å˜æˆ–è€…shouldComponentUpdate(nextProps, nextState)è§¦å‘å, åœ¨render()ä¹‹å‰.åƒä¸‡ä¸è¦åœ¨è¿™ä¸ªå‡½æ•°ä¸­è°ƒç”¨this.setState()æ–¹æ³•,æ­»å¾ªç¯.ç»“åˆå›¾è¡¨çœ‹.2-4.renderåŒä¸Š 1-42-5.componentDidUpdate(object prevProps, object prevState)è¿™ä¸ªæ–¹æ³•å’Œ componentDidMount ç±»ä¼¼ 3.componentWillUnmountç»„ä»¶è¢«é”€æ¯æ—¶è§¦å‘ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€äº›æ¸…ç†æ“ä½œï¼Œä¾‹å¦‚æ¸…ç†å®šæ—¶å™¨ï¼Œ å…³é—­æŠ½å±‰å¼¹æ¡†ï¼Œå–æ¶ˆReduxçš„è®¢é˜…äº‹ä»¶ç­‰ç­‰. æ€»ç»“å¯¹æ¯”ç”Ÿå‘½å‘¨æœŸå®ä¾‹ demo","categories":[{"name":"react","slug":"react","permalink":"https://www.ding51.cn/categories/react/"}],"tags":[{"name":"reactç”Ÿå‘½å‘¨æœŸ","slug":"reactç”Ÿå‘½å‘¨æœŸ","permalink":"https://www.ding51.cn/tags/reactç”Ÿå‘½å‘¨æœŸ/"}]},{"title":"ES6ä¸­ç®­å¤´å‡½æ•°å’Œfunctionçš„åŒºåˆ«","slug":"ES6ä¸­ç®­å¤´å‡½æ•°å’Œfunctionçš„åŒºåˆ«","date":"2018-11-27T13:45:00.000Z","updated":"2020-08-10T07:33:58.055Z","comments":true,"path":"es6-zhong-jian-tou-han-shu-he-function-de-qu-bie.html","link":"","permalink":"https://www.ding51.cn/es6-zhong-jian-tou-han-shu-he-function-de-qu-bie.html","excerpt":"","text":"ç®­å¤´å‡½æ•°å’Œfunctionçš„åŒºåˆ«æ€»ç»“1.ç®­å¤´å‡½æ•°ä¸functionå®šä¹‰å‡½æ•°çš„å†™æ³•//function function fn(a, b){ return a + b; } // ç®­å¤´å‡½æ•° var foo = (a, b)=>{ return a + b }; 2.thisçš„æŒ‡å‘1.ä½¿ç”¨functionå®šä¹‰çš„å‡½æ•°ï¼Œthisçš„æŒ‡å‘éšç€è°ƒç”¨ç¯å¢ƒçš„å˜åŒ–è€Œå˜åŒ–çš„ã€‚ //ä½¿ç”¨functionå®šä¹‰çš„å‡½æ•° function foo(){ console.log(this); } var obj = { aa: foo }; foo(); //Window obj.aa() //obj { aa: foo } 2.è€Œç®­å¤´å‡½æ•°ä¸­çš„thisæŒ‡å‘æ˜¯å›ºå®šä¸å˜çš„ï¼Œä¸€ç›´æŒ‡å‘çš„æ˜¯å®šä¹‰å®ƒçš„ç¯å¢ƒï¼Œæœ€è¿‘çš„ä½œç”¨åŸŸã€‚ //ä½¿ç”¨ç®­å¤´å‡½æ•°å®šä¹‰å‡½æ•° var foo = () => { console.log(this) }; var obj = { aa:foo }; foo(); //Window obj.aa(); //Window let a = { foo: 1, bar: () => console.log(this.foo) } a.bar() //undefined åŸå› :ç®­å¤´å‡½æ•°ä¸­çš„thiså¹¶ä¸æ˜¯æŒ‡å‘aè¿™ä¸ªå¯¹è±¡ã€‚å¯¹è±¡aå¹¶ä¸èƒ½æ„æˆä¸€ä¸ªä½œç”¨åŸŸï¼Œæ‰€ä»¥å†å¾€ä¸Šåˆ°è¾¾å…¨å±€ä½œç”¨åŸŸï¼Œthiså°±æŒ‡å‘å…¨å±€ä½œç”¨åŸŸ,è¿™é‡ŒthisæŒ‡å‘Windowã€‚ 3.æ„é€ å‡½æ•°//ä½¿ç”¨functionæ–¹æ³•å®šä¹‰æ„é€ å‡½æ•° function Person(name, age){ this.name = name; this.age = age; } var lenhart = new Person(lenhart, 25); console.log(lenhart); //{name: 'lenhart', age: 25} functionæ˜¯å¯ä»¥å®šä¹‰æ„é€ å‡½æ•°çš„ï¼Œè€Œç®­å¤´å‡½æ•°æ˜¯ä¸è¡Œçš„ã€‚ //å°è¯•ä½¿ç”¨ç®­å¤´å‡½æ•° var Person = (name, age) =>{ this.name = name; this.age = age; }; var lenhart = new Person('lenhart', 25); //Uncaught TypeError: Person is not a constructor 4.å˜é‡æå‡ç”±äºjsçš„å†…å­˜æœºåˆ¶ï¼Œfunctionçš„çº§åˆ«æœ€é«˜ï¼Œè€Œç”¨ç®­å¤´å‡½æ•°å®šä¹‰å‡½æ•°çš„æ—¶å€™ï¼Œéœ€è¦var(let constå®šä¹‰çš„æ—¶å€™æ›´ä¸å¿…è¯´)å…³é”®è¯ï¼Œè€Œvaræ‰€å®šä¹‰çš„å˜é‡ä¸èƒ½å¾—åˆ°å˜é‡æå‡ï¼Œæ•…ç®­å¤´å‡½æ•°ä¸€å®šè¦å®šä¹‰äºè°ƒç”¨ä¹‹å‰ï¼ foo(); //123 function foo(){ console.log('123'); } arrowFn(); //Uncaught TypeError: arrowFn is not a function var arrowFn = () => { console.log('456'); };","categories":[{"name":"ES6","slug":"ES6","permalink":"https://www.ding51.cn/categories/ES6/"}],"tags":[{"name":"js","slug":"js","permalink":"https://www.ding51.cn/tags/js/"},{"name":"ç®­å¤´å‡½æ•°this","slug":"ç®­å¤´å‡½æ•°this","permalink":"https://www.ding51.cn/tags/ç®­å¤´å‡½æ•°this/"},{"name":"ES6","slug":"ES6","permalink":"https://www.ding51.cn/tags/ES6/"}]},{"title":"Nginx æ­å»ºå’Œé…ç½®","slug":"Nginx-æ­å»ºå’Œé…ç½®","date":"2018-11-21T02:01:00.000Z","updated":"2021-07-28T10:01:56.117Z","comments":true,"path":"nginx-da-jian-he-pei-zhi.html","link":"","permalink":"https://www.ding51.cn/nginx-da-jian-he-pei-zhi.html","excerpt":"","text":"æœ¬æ–‡ç« é€‚åˆæ–°æ‰‹,å…¶ä¸­å«æœ‰æˆ‘åœ¨å®é™…ä¸­é‡åˆ°çš„é—®é¢˜è§£å†³åˆ†äº«,æœåŠ¡å™¨åœ¨æ¬ç“¦å·¥ç§Ÿçš„,ä¸å¤šåºŸè¯ç›´æ¥ä¸Šå¹²è´§ ä¸€ã€Ubuntuç¯å¢ƒï¼š æ“ä½œç³»ç»Ÿï¼šUbuntu 18.04.4 Nginxæ­å»º1.å®‰è£… nginxsudo apt update sudo apt install nginx nginx -v ç›¸å…³å‘½ä»¤# å¯åŠ¨ service nginx start # åœæ­¢ service nginx stop # é‡èµ· service nginx restart sudo systemctl restart nginx nginx.conf æ–‡ä»¶ï¼Œè·¯å¾„ä¸ºï¼š/etc/nginx/nginx.confå¸¸è§„é…ç½®å¦‚ä¸‹ï¼š worker_processes 1; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; gzip on; gzip_vary on; gzip_comp_level 6; gzip_buffers 16 8k; gzip_min_length 1000; gzip_proxied any; gzip_disable \"msie6\"; #gzip_http_version 1.0; gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript application/javascript; server { #error_page 404 /404.html; error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } listen 80; server_name localhost; location ~ .*\\.(css|js|swf|html|htm|pdf)$ { root /var/www/html; autoindex on; index index.html index.htm; } location / { charset utf-8; root /var/www/html; index index.html index.htm; try_files $uri /index.html; } } } default æœåŠ¡ä¸»æœºé…ç½®æ–‡ä»¶ï¼Œè·¯å¾„ä¸ºï¼š/etc/nginx/sites-available/default é»˜è®¤é¡µé¢index.htmlè·¯å¾„ï¼š /var/www/html äºŒã€CenOSç¯å¢ƒï¼š æ“ä½œç³»ç»Ÿï¼šCenOS 6 x86 Nginx ç‰ˆæœ¬ï¼š1.14.0 Nginxæ­å»º1.ç¬¬ä¸€æ­¥ åˆ›å»ºæºé…ç½®åœ¨/etc/yum.repos.d/ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæºé…ç½®æ–‡ä»¶nginx.repo cd /etc/yum.repos.d/ vim nginx.repo å¡«å†™å¦‚ä¸‹å†…å®¹ï¼š [nginx] name=nginx repo baseurl=http://nginx.org/packages/centos/$releasever/$basearch/ gpgcheck=0 enabled=1 ä¿å­˜ï¼Œåˆ™ä¼šäº§ç”Ÿä¸€ä¸ª/etc/yum.repos.d/nginx.repoæ–‡ä»¶ã€‚ 2.ç¬¬äºŒæ­¥ å®‰è£…ç›´æ¥æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤å³å¯è‡ªåŠ¨å®‰è£…å¥½Nginxï¼š yum install nginx -y å®‰è£…å®Œæˆï¼Œä¸‹é¢ç›´æ¥å°±å¯ä»¥å¯åŠ¨Nginxäº†ï¼š /etc/init.d/nginx start ç°åœ¨Nginxå·²ç»å¯åŠ¨äº†ï¼Œç›´æ¥è®¿é—®æœåŠ¡å™¨å°±èƒ½çœ‹åˆ°Nginxæ¬¢è¿é¡µé¢äº†çš„ã€‚å¦‚æœè¿˜æ— æ³•è®¿é—®:æ–¹æ³•ä¸€:æŸ¥çœ‹ä¸‹æœåŠ¡å™¨ä¸Šç«¯å£æ˜¯å¦80(é˜¿é‡Œäº‘ä¸Šé…ä¸‹80ç«¯å£)ã€‚æ–¹æ³•äºŒ:éœ€é…ç½®ä¸€ä¸‹Linuxé˜²ç«å¢™,ä»¥æ­¤æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤: iptables -I INPUT 5 -i eth0 -p tcp --dport 80 -m state --state NEW,ESTABLISHED -j ACCEPT service iptables save service iptables restart Nginxçš„ç›¸å…³å‘½ä»¤ï¼š /etc/init.d/nginx start # å¯åŠ¨NginxæœåŠ¡ /etc/init.d/nginx stop # åœæ­¢NginxæœåŠ¡ /etc/nginx/nginx.conf # Nginxé…ç½®æ–‡ä»¶ä½ç½® chkconfig nginx on #è®¾ä¸ºå¼€æœºå¯åŠ¨ ç¬¬ä¸‰æ­¥ å‰ç«¯å°ä¼˜åŒ– nginxå¼€å¯gzipå’Œç¼“å­˜é…ç½® (nginx.conf)è¿›å…¥nginx é…ç½®æ–‡ä»¶vim /etc/nginx/nginx.conf,æ·»åŠ å¦‚ä¸‹é…ç½®: # å¼€å¯gzip gzip on; # å¯ç”¨gzipå‹ç¼©çš„æœ€å°æ–‡ä»¶ï¼Œå°äºè®¾ç½®å€¼çš„æ–‡ä»¶å°†ä¸ä¼šå‹ç¼© gzip_min_length 1k; # gzip å‹ç¼©çº§åˆ«ï¼Œ1-10ï¼Œæ•°å­—è¶Šå¤§å‹ç¼©çš„è¶Šå¥½ï¼Œä¹Ÿè¶Šå ç”¨CPUæ—¶é—´ï¼Œåé¢ä¼šæœ‰è¯¦ç»†è¯´æ˜ gzip_comp_level 2; # è¿›è¡Œå‹ç¼©çš„æ–‡ä»¶ç±»å‹ã€‚javascriptæœ‰å¤šç§å½¢å¼ã€‚å…¶ä¸­çš„å€¼å¯ä»¥åœ¨ mime.types æ–‡ä»¶ä¸­æ‰¾åˆ°ã€‚ gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png font/ttf font/otf image/svg+xml; # æ˜¯å¦åœ¨http headerä¸­æ·»åŠ Vary: Accept-Encodingï¼Œå»ºè®®å¼€å¯ gzip_vary on; # ç¦ç”¨IE 6 gzip gzip_disable \"MSIE [1-6]\\.\"; # å¼€å¯ç¼“å­˜ location ~* ^.+\\.(ico|gif|jpg|jpeg|png)$ { access_log off; expires 30d; } location ~* ^.+\\.(css|js|txt|xml|swf|wav)$ { access_log off; expires 24h; } location ~* ^.+\\.(html|htm)$ { expires 1h; } location ~* ^.+\\.(eot|ttf|otf|woff|svg)$ { access_log off; expires max; } # æ ¼å¼ # expires 30s; # expires 30m; # expires 2h; # expires 30d; ç›¸å…³æŠ¥é”™é—®é¢˜å¤„ç†1.vimä½¿ç”¨æŠ¥é”™:-bash: vim: command not found ä½¿ç”¨å‘½ä»¤ : yum -y install vim* 2.è§£å†³Nginxä¸‹ä½¿ç”¨React-router(å…¶ä»–å•é¡µåº”ç”¨vue-routerè·¯ç”±)åˆ·æ–°å‡ºç°404é—®é¢˜serveréœ€è¦é‡å®šå‘åˆ°index ,è¿›å…¥é…ç½® vim /etc/nginx/conf.d/default.conf server { listen 80; server_name zlzkj.io; index index.html; root /Volumes/Mac/www/antd-admin/; location / { try_files $uri $uri/ /index.html; // æŒ‡å‘index.html } } è‡³æ­¤ï¼ŒNginxå·²ç»å…¨éƒ¨é…ç½®å®‰è£…å®Œæˆ,å¦‚æœ‰é—®é¢˜æ¬¢è¿ç•™è¨€æˆ–è”ç³»ã€‚","categories":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"https://www.ding51.cn/categories/æœåŠ¡å™¨/"}],"tags":[{"name":"Nginx ","slug":"Nginx","permalink":"https://www.ding51.cn/tags/Nginx/"}]}]}